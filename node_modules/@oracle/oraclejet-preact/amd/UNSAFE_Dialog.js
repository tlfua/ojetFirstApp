define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat', './hooks/UNSAFE_useAnimation', './hooks/UNSAFE_useComponentTheme', './UNSAFE_Layer', './UNSAFE_Modal', './UNSAFE_FocusTrap', './UNSAFE_WindowOverlay', './hooks/UNSAFE_useId', './UNSAFE_Dialog/themes/redwood/DialogTheme', './useAnimation-95b1d0bd', './FocusTrap-84b5ca93', './Modal-85c887df', './utils/UNSAFE_logger', './_curry1-ce36c4e7', './_curry2-d90c5517', './index-182af2cd', 'preact', './Common', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './useThemeInterpolations-48286702', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './UNSAFE_Theme', './utils-7a8b0c59', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_classNames', './classNames-711dac8e', './_curry3-4fb0ed44', './_has-580e26f1', 'module', './utils/PRIVATE_tabbableUtils', './_arity-cb8e3705', './vanilla-extract-dynamic.esm-acef6fab', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './hooks/UNSAFE_useUser', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-9d536a1b', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './useModal-129c8a8d', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css'], (function(e,o,s,a,l,t,i,n,r,d,c,m,y,h,u,S,N,_,p,F,g,A,E,f,w,U,b,v,O,D,T,x,j,W,C,B,M,R,k,I,K,L,X,Y,V,P,H,q,z,G,J,Q,Z,$,ee,oe){"use strict";const se=({header:e,id:s})=>{const{styles:a}=t.useComponentTheme(m.DialogRedwoodTheme),l="string"==typeof e?o.jsx("h1",{id:s,className:a.dialogTitleStyle,children:e}):e;return o.jsx("div",{"aria-labelledby":s,className:a.dialogHeaderStyle,children:l})},ae=a.forwardRef((({children:e,header:s,footer:a,labelId:l,role:i,ariaLabelledBy:n,ariaDescribedBy:r,onKeyDown:d},c)=>{const{classes:y,styles:h}=t.useComponentTheme(m.DialogRedwoodTheme);return o.jsx("div",{ref:c,className:y,style:{opacity:0},onKeyDown:d,role:i,"aria-labelledby":n,"aria-describedby":r,children:o.jsxs("div",{className:h.dialogContainerStyle,children:[o.jsx(se,{id:l,header:s}),o.jsx("div",{className:h.dialogContentStyle,children:o.jsx("div",{className:h.dialogBodyStyle,children:e})}),o.jsx("div",{className:h.dialogFooterStyle,children:a})]})})})),le={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:l,header:t="",footer:n,modality:r="modal",placement:m="center",offset:S=0,onClose:N,onTransitionEnd:_,role:p="dialog","aria-labelledby":F,"aria-describedby":g})=>{const[A,E]=s.useState(l?"opening":"unmounted"),f=c.useId(),w=F||f;s.useEffect((()=>{("unmounted"!==A||l)&&E(l?"opening":"closing")}),[l,A]);const{nodeRef:U}=y.useAnimation(A,{animationStates:le,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(E("unmounted"),_?.(!1)):_?.(!0)}}),b=e=>{if("Escape"===e.code)N?.({reason:"escapeKey"})},v=()=>o.jsx(d.WindowOverlay,{placement:m,offset:S,children:o.jsx(h.FocusTrap,{autoFocusRef:e,children:o.jsx(ae,{ref:U,labelId:w,header:t,footer:n,role:p,ariaLabelledBy:w,ariaDescribedBy:g,onKeyDown:b,children:a})})});return"modal"===r?o.jsx(u.Modal,{isOpen:"unmounted"!==A,children:v()}):"unmounted"!==A?o.jsx(i.Layer,{children:v()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
