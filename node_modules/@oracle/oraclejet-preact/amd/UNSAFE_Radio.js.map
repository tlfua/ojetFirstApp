{"version":3,"file":"UNSAFE_Radio.js","sources":["../../src/UNSAFE_Radio/Radio.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { useFocus } from '../hooks/UNSAFE_useFocus';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { useId } from '../hooks/UNSAFE_useId';\nimport { useTabbableMode } from '../hooks/UNSAFE_useTabbableMode';\nimport { useInteractionStyle } from '../hooks/UNSAFE_useInteractionStyle';\nimport { useCheckboxRadioContext } from '../PRIVATE_CheckboxRadioField/CheckboxRadioContext';\nimport { CheckIcon } from '../PRIVATE_ThemedIcons/CheckIcon';\nimport { RadioOffIcon } from '../PRIVATE_ThemedIcons/RadioOffIcon';\nimport { RadioOnIcon } from '../PRIVATE_ThemedIcons/RadioOnIcon';\nimport { HiddenAccessible } from '../UNSAFE_HiddenAccessible';\nimport { useRadioGroupContext } from '../UNSAFE_RadioGroup/RadioGroupContext';\n\nimport { IconUserAssistance } from '../UNSAFE_UserAssistance';\nimport { getVarName } from '../utils/UNSAFE_stringUtils';\nimport { radioIconVars } from './themes/RadioIconContract.css';\nimport { RadioIconRedwoodTheme } from './themes/redwood/RadioIconTheme';\nimport { RadioRedwoodTheme } from './themes/redwood/RadioTheme';\n\n// FIXME: \ntype CalcType = `calc(${string})`;\n\ntype Props = {\n  /**\n   * Text to provide guidance to help the user understand what data to enter.\n   */\n  assistiveText?: string;\n  /**\n   * Text that describes the radio button value.\n   */\n  children: string;\n  /**\n   * Help source URL associated with the component.\n   */\n  helpSourceLink?: string;\n  /**\n   * Custom text to be rendered for the `helpSourceLink`.\n   */\n  helpSourceText?: string;\n  /**\n   * Value of the radio button.\n   */\n  value: string;\n};\n\nexport const Radio = ({ value, children, ...assistanceProps }: Props) => {\n  const { isReadonly: isFormReadonly, isDisabled: isFormDisabled } = useFormContext();\n  const { isDisabled: isFieldDisabled, isReadonly: isFieldReadonly } = useFormFieldContext();\n  const { name, value: groupValue, onCommit } = useRadioGroupContext();\n  const { isFocusRingShown } = useCheckboxRadioContext();\n  const { isTabbable } = useTabbableMode();\n\n  const id = useId();\n  const { isFocus, focusProps } = useFocus();\n\n  const isSelected = groupValue === value;\n  const isDisabled = isFieldDisabled ?? isFormDisabled;\n  const isReadonly = isFieldReadonly ?? isFormReadonly;\n\n  const { interactionProps, applyActiveStyle } = useInteractionStyle();\n\n  const {\n    classes: radioClasses,\n    styles: { valueLabelStyle, valueTextStyle }\n  } = useComponentTheme(RadioRedwoodTheme, {\n    disabled: isDisabled ? 'isDisabled' : 'notDisabled',\n    focused: isFocus && isFocusRingShown ? 'isFocused' : ''\n  });\n\n  const { classes: radioIconClasses } = useComponentTheme(RadioIconRedwoodTheme, {\n    disabled: isDisabled ? 'isDisabled' : 'notDisabled',\n    selected: isSelected ? 'isSelected' : 'notSelected',\n    readonly: isReadonly ? 'isReadonly' : 'notReadonly',\n    active: applyActiveStyle ? 'isActive' : 'notActive'\n  });\n\n  const { assistiveText, helpSourceLink } = assistanceProps;\n  const hasUserAssistive = !isReadonly && !!(assistiveText || helpSourceLink);\n  const uaId = hasUserAssistive ? `${id}-icon-ua` : undefined;\n\n  const IconComp = isReadonly\n    ? isSelected\n      ? CheckIcon\n      : RadioOffIcon\n    : isSelected\n    ? RadioOnIcon\n    : RadioOffIcon;\n\n  return (\n    <div>\n      <label class={radioClasses} {...interactionProps}>\n        <HiddenAccessible>\n          <input\n            type=\"radio\"\n            name={name}\n            id={id}\n            value={value}\n            {...(!isReadonly && {\n              onChange: (e) => {\n                e.stopPropagation();\n                onCommit?.({ previousValue: groupValue, value });\n              }\n            })}\n            checked={isSelected}\n            disabled={isDisabled}\n            aria-describedby={uaId}\n            {...(!isTabbable && { tabIndex: -1 })}\n            {...(isReadonly && { 'aria-readonly': true })}\n            {...focusProps}\n          />\n        </HiddenAccessible>\n        <span aria-hidden=\"true\" class={radioIconClasses}>\n          <IconComp size={getVarName(radioIconVars.iconSize) as CalcType} color=\"currentColor\" />\n        </span>\n        <span class={valueLabelStyle}>\n          <span class={valueTextStyle}>{children}</span>\n          {hasUserAssistive && (\n            <IconUserAssistance\n              {...assistanceProps}\n              isTabbable={isTabbable && isSelected && isFocus}\n              id={uaId as string}\n            />\n          )}\n        </span>\n      </label>\n    </div>\n  );\n};\n"],"names":["value","children","assistanceProps","isReadonly","isFormReadonly","isDisabled","isFormDisabled","useFormContext","isFieldDisabled","isFieldReadonly","useFormFieldContext","name","groupValue","onCommit","useRadioGroupContext","isFocusRingShown","useCheckboxRadioContext","isTabbable","useTabbableMode","id","useId","isFocus","focusProps","useFocus","isSelected","interactionProps","applyActiveStyle","useInteractionStyle","classes","radioClasses","styles","valueLabelStyle","valueTextStyle","useComponentTheme","RadioRedwoodTheme","disabled","focused","radioIconClasses","RadioIconRedwoodTheme","selected","readonly","active","assistiveText","helpSourceLink","hasUserAssistive","uaId","undefined","IconComp","CheckIcon","RadioOffIcon","RadioOnIcon","_jsx","jsx","_jsxs","jsxs","class","HiddenAccessible","type","onChange","e","stopPropagation","previousValue","checked","tabIndex","size","getVarName","radioIconVars","iconSize","color","IconUserAssistance"],"mappings":"kqOAqDqB,EAAGA,QAAOC,cAAaC,MAC1C,MAAQC,WAAYC,EAAgBC,WAAYC,GAAmBC,EAAAA,kBAC3DF,WAAYG,EAAiBL,WAAYM,GAAoBC,EAAAA,uBAC/DC,KAAEA,EAAMX,MAAOY,EAAUC,SAAEA,GAAaC,EAAAA,wBACxCC,iBAAEA,GAAqBC,EAAAA,2BACvBC,WAAEA,GAAeC,EAAAA,kBAEjBC,EAAKC,EAAAA,SACLC,QAAEA,EAAOC,WAAEA,GAAeC,EAAQA,WAElCC,EAAaZ,IAAeZ,EAC5BK,EAAaG,GAAmBF,EAChCH,EAAaM,GAAmBL,GAEhCqB,iBAAEA,EAAgBC,iBAAEA,GAAqBC,EAAmBA,uBAGhEC,QAASC,EACTC,QAAQC,gBAAEA,EAAeC,eAAEA,IACzBC,EAAiBA,kBAACC,oBAAmB,CACvCC,SAAU9B,EAAa,aAAe,cACtC+B,QAASf,GAAWN,EAAmB,YAAc,MAG/Ca,QAASS,GAAqBJ,EAAAA,kBAAkBK,EAAAA,sBAAuB,CAC7EH,SAAU9B,EAAa,aAAe,cACtCkC,SAAUf,EAAa,aAAe,cACtCgB,SAAUrC,EAAa,aAAe,cACtCsC,OAAQf,EAAmB,WAAa,eAGpCgB,cAAEA,EAAaC,eAAEA,GAAmBzC,EACpC0C,IAAoBzC,IAAiBuC,IAAiBC,GACtDE,EAAOD,EAAmB,GAAGzB,iBAAe2B,EAE5CC,EAAW5C,EACbqB,EACEwB,EAASA,UACTC,EAAYA,aACdzB,EACA0B,EAAWA,YACXD,eAEJ,OACEE,EAAAC,IAAA,MAAA,CAAAnD,SACEoD,EAAOC,KAAA,QAAA,CAAAC,MAAO1B,KAAkBJ,EAAgBxB,SAAA,CAC9CkD,EAACC,IAAAI,EAAgBA,iBACf,CAAAvD,SAAAkD,EAAAC,IAAA,QAAA,CACEK,KAAK,QACL9C,KAAMA,EACNQ,GAAIA,EACJnB,MAAOA,MACDG,GAAc,CAClBuD,SAAWC,IACTA,EAAEC,kBACF/C,IAAW,CAAEgD,cAAejD,EAAYZ,SAAQ,GAGpD8D,QAAStC,EACTW,SAAU9B,EAAU,mBACFwC,MACZ5B,GAAc,CAAE8C,UAAW,MAC5B5D,GAAc,CAAE,iBAAiB,MAClCmB,MAGR6B,EAAAA,0BAAkB,OAAOI,MAAOlB,WAC9Bc,EAACC,IAAAL,EAAS,CAAAiB,KAAMC,EAAAA,WAAWC,EAAaA,cAACC,UAAuBC,MAAM,mBAExEf,EAAAC,KAAA,OAAA,CAAMC,MAAOxB,YACXoB,EAAAA,IAAM,OAAA,CAAAI,MAAOvB,EAAc/B,SAAGA,IAC7B2C,GACCO,EAAAC,IAACiB,qBACK,IAAAnE,EACJe,WAAYA,GAAcO,GAAcH,EACxCF,GAAI0B,WAMd"}