{"version":3,"file":"UNSAFE_MeterBar.js","sources":["../../src/UNSAFE_MeterBar/MeterUtils.ts","../../src/UNSAFE_MeterBar/ReferenceLines.tsx","../../src/UNSAFE_MeterBar/ThresholdBar.tsx","../../src/UNSAFE_MeterBar/MeterBar.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport type { Ref } from 'preact/hooks';\nimport { ReferenceLine } from '../utils/UNSAFE_meterTypes';\n\ntype Dimensions = {\n  width: number;\n  height: number;\n};\n\n/**\n * Returns the metric value of the clicked point.\n * @param event The PointerEvent\n * @param dimensionsRef Ref to stored dimensions of the meter bar.\n * @param min The minimum value of the meter bar.\n * @param max The maximum value of the meter bar.\n * @param step The step value of the meter bar.\n * @param orientation The orientation of the meter bar.\n * @param isRtl Whether the reading mode is 'rtl'\n * @returns The metric value of the clicked point.\n */\nexport function getValue(\n  event: PointerEvent,\n  dimensionsRef: Ref<Dimensions>,\n  min: number,\n  max: number,\n  step: number,\n  orientation?: 'horizontal' | 'vertical',\n  isRtl?: boolean\n): number | undefined {\n  const dims = dimensionsRef.current;\n  if (!dims || dims.width === 0) {\n    return undefined;\n  }\n\n  let val;\n\n  if (orientation === 'horizontal') {\n    const width = event.offsetX;\n    val = min + ((max - min) * (isRtl ? dims.width - width : width)) / dims.width;\n  } else {\n    const height = dims.height - event.offsetY;\n    val = min + ((max - min) * height) / dims.height;\n  }\n  val = Math.round(val / step) * step;\n  return Math.max(min, Math.min(max, val));\n}\n\n/**\n * Returns the true dimension of the meter bar after first render. All dimensions are 0 for initial render.\n * @param element The meter bar track HTML element\n * @returns The dimension of the meter bar.\n */\nexport function getDimensions(element: HTMLElement | null): Dimensions {\n  if (!element) {\n    return {\n      width: 0,\n      height: 0\n    };\n  }\n  const trackDims = element.getBoundingClientRect();\n\n  return {\n    width: trackDims.width,\n    height: trackDims.height\n  };\n}\n\n/**\n * Returns object with 'start' and 'end' keys. Value for each key will be true if at least one ref line with correposnding position is present in meter bar.\n * @param lines The array of reference lines.\n * @returns Returns object with start and end keys.\n */\nexport function getRefLinesInfo(lines?: ReferenceLine[]): { start: boolean; end: boolean } {\n  let refLineInfo = { start: false, end: false };\n  if (lines) {\n    refLineInfo = lines.reduce((acc, cur) => {\n      acc.start = acc.start || cur.position === 'start';\n      acc.end = acc.end || cur.position === 'end' || cur.position == null;\n      return acc;\n    }, refLineInfo);\n  }\n  return refLineInfo;\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { useUser } from '../hooks/UNSAFE_useUser';\nimport { ColorProps } from '../utils/UNSAFE_interpolations/colors';\nimport { DvtThresholdsColors, getDvtThresholdColor } from '../utils/UNSAFE_dvtCommonUtils';\nimport { styles } from './themes/MeterBarStyles.css';\n\ntype ReferenceLineProps = {\n  orientation: 'horizontal' | 'vertical';\n  percentage: string;\n  position?: 'start' | 'end';\n  color?: ColorProps['color'] | DvtThresholdsColors;\n};\n\nexport function ReferenceLineBar({ orientation, percentage, color, position }: ReferenceLineProps) {\n  const isHoriz = orientation === 'horizontal';\n  const { direction } = useUser();\n  const isRtl = direction === 'rtl';\n  const isStartPos = position === 'start';\n\n  return (\n    <div\n      class={classNames([\n        styles.referenceLinesBaseStyle,\n        isHoriz ? styles.referenceLinesHorizontalStyle : styles.referenceLinesVerticalStyle,\n        isStartPos\n          ? isHoriz\n            ? styles.referenceLinesHoriontalStartStyle\n            : isRtl\n            ? styles.referenceLinesVerticalStartRtlStyle\n            : styles.referenceLinesVerticalStartLtrStyle\n          : ''\n      ])}\n      style={{\n        left: isHoriz && !isRtl ? percentage : undefined,\n        right: isHoriz && isRtl ? percentage : undefined,\n        bottom: isHoriz ? undefined : percentage,\n        backgroundColor: getDvtThresholdColor(color)\n      }}></div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useUser } from '../hooks/UNSAFE_useUser';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\nimport { ColorProps } from '../utils/UNSAFE_interpolations/colors';\nimport { DvtThresholdsColors, getDvtThresholdColor } from '../utils/UNSAFE_dvtCommonUtils';\nimport { styles } from './themes/MeterBarStyles.css';\n\ntype IntrinsicProps = Pick<HTMLAttributesSignalExcluded<HTMLDivElement>, 'class'>;\ntype ThresholdBarProps = IntrinsicProps & {\n  color?: ColorProps['color'] | DvtThresholdsColors;\n  length: string;\n  orientation: 'horizontal' | 'vertical';\n};\n\nexport function ThresholdBar({ color, length, orientation, ...otherProps }: ThresholdBarProps) {\n  const { direction } = useUser();\n  const isHoriz = orientation === 'horizontal';\n  const isRtl = direction === 'rtl';\n\n  return (\n    <div\n      class={classNames([\n        styles.thresholdBarBaseStyle,\n        isHoriz\n          ? isRtl\n            ? styles.thresholdBarHorizontalBarTrackSectionRtlStyle\n            : styles.thresholdBarHorizontalBarTrackSectionLtrStyle\n          : styles.thresholdBarVerticalBarTrackSectionStyle,\n        otherProps.class\n      ])}\n      style={{\n        width: isHoriz ? length : '100%',\n        height: isHoriz ? '100%' : length,\n        backgroundColor: getDvtThresholdColor(color)\n      }}></div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { sizeToCSS } from '../utils/UNSAFE_size';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { mergeProps } from '../utils/UNSAFE_mergeProps';\nimport { useEffect, useRef } from 'preact/hooks';\nimport { useUser } from '../hooks/UNSAFE_useUser';\nimport {\n  usePointerEvents,\n  useKeyboardEvents,\n  useMeterDatatip\n} from '../hooks/PRIVATE_useDvtMeterEvents';\n\nimport {\n  getMeterAriaProps,\n  validateRange,\n  getTrackAndIndicatorColor\n} from '../utils/PRIVATE_meterUtils';\n\nimport { Threshold } from '../utils/UNSAFE_meterTypes';\nimport { BarTrack, BarValue } from '../PRIVATE_Meter';\nimport { getDimensions, getRefLinesInfo, getValue } from './MeterUtils';\nimport { ReferenceLineBar } from './ReferenceLines';\nimport { ThresholdBar } from './ThresholdBar';\nimport { MeterBarProps } from './MeterBar.types';\nimport { useTabbableMode } from '../hooks/UNSAFE_useTabbableMode';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { MeterBarStyles, MeterBarVariantOptions } from './themes/MeterBarStyles.css';\nimport { MeterBarRedwoodTheme } from './themes/redwood/MeterBarTheme';\n\n/**\n * A Meter bar displays information graphically in a rectangular bar, highlighting a specific metric value's progress in relation to its min, max, or thresholds.\n */\nexport function MeterBar({\n  max = 100,\n  min = 0,\n  value = 0,\n  step = 1,\n  length = '100%',\n  size,\n  orientation = 'horizontal',\n  isTrackRendered = true,\n  thresholdDisplay = 'all',\n  indicatorSize = 1,\n  ...props\n}: MeterBarProps) {\n  validateRange(min, max, value, step);\n  const currentInputRef = useRef<number>();\n\n  const isHoriz = orientation === 'horizontal';\n  const barTrackRef = useRef<HTMLDivElement>(null);\n  const dimensionsRef = useRef(getDimensions(null));\n  const { direction } = useUser();\n  const isRtl = direction === 'rtl';\n\n  useEffect(() => {\n    if (props.onCommit || props.onInput) {\n      dimensionsRef.current = getDimensions(barTrackRef.current);\n    }\n  }, [size, length, orientation, props.onCommit, props.onInput]);\n\n  const getValueFromEvent = (event: PointerEvent): number | undefined => {\n    // only evaluate value from bar track\n    if (event.target == barTrackRef.current) {\n      return getValue(event, dimensionsRef, min, max, step, orientation, isRtl);\n    }\n    return;\n  };\n\n  const pointerEventsProps = usePointerEvents(\n    value,\n    getValueFromEvent,\n    barTrackRef,\n    currentInputRef,\n    props.onCommit,\n    props.onInput\n  );\n\n  const keyboardEventsProps = useKeyboardEvents(\n    value,\n    min,\n    max,\n    step,\n    currentInputRef,\n    props.onCommit,\n    props.onInput\n  );\n\n  const { datatipContent, datatipProps } = useMeterDatatip(\n    value,\n    props.datatip,\n    props['aria-describedby']\n  );\n\n  const ariaLabelProps = getMeterAriaProps(\n    value,\n    min,\n    max,\n    props['aria-label'],\n    props['aria-labelledby'],\n    props.thresholds\n  );\n  const mergedProps = mergeProps(\n    pointerEventsProps,\n    keyboardEventsProps,\n    datatipProps,\n    ariaLabelProps\n  );\n\n  const validIndicatorSize = Math.max(0, Math.min(1, indicatorSize));\n  const valueBarLength = `${((value - min) * 100) / (max - min)}%`;\n  const valueBarSize = `${validIndicatorSize * 100}%`;\n  const { trackColor, indicatorColor } = getTrackAndIndicatorColor(\n    value,\n    thresholdDisplay,\n    props.trackColor,\n    props.indicatorColor,\n    props.thresholds\n  );\n\n  const sizeStyle = getRefLinesInfo(props.referenceLines);\n  const isInteractive = props.onCommit || props.onInput;\n  const { isTabbable } = useTabbableMode();\n\n  const {\n    classes,\n    styles: {\n      interactiveStyle,\n\n      barValueBaseStyle,\n      barValueVerticalStyle,\n      barValueHorizontalStyle,\n\n      barTrackBaseStyle,\n\n      barTrackHorizontalSizeStyle,\n      barTrackVerticalSizeStyle,\n\n      barTrackMarginTopStyle,\n      barTrackMarginStartStyle,\n      barTrackMarginBottomStyle,\n      barTrackMarginEndStyle,\n\n      trackSectionHorizontalFirstStyle,\n      trackSectionHorizontalLastStyle,\n\n      trackSectionVerticalFirstStyle,\n      trackSectionVerticalLastStyle,\n\n      trackSectionRoundedCornersStyle\n    }\n  } = useComponentTheme<MeterBarVariantOptions, MeterBarStyles>(MeterBarRedwoodTheme, {\n    size,\n    orientation\n  });\n\n  return (\n    <>\n      <div\n        tabIndex={!isTabbable ? -1 : 0}\n        {...mergedProps}\n        style={{\n          width: isHoriz ? sizeToCSS(length) : undefined,\n          height: isHoriz ? undefined : sizeToCSS(length)\n        }}\n        class={classNames([classes])}>\n        <BarTrack\n          ref={barTrackRef}\n          orientation={orientation}\n          color={\n            !isTrackRendered || (thresholdDisplay === 'all' && props.thresholds)\n              ? 'transparent'\n              : trackColor\n          }\n          class={classNames([\n            barTrackBaseStyle,\n            isInteractive ? interactiveStyle : '',\n            isHoriz ? barTrackHorizontalSizeStyle : barTrackVerticalSizeStyle,\n            ...getMarginClass(\n              sizeStyle,\n              isHoriz,\n              barTrackMarginTopStyle,\n              barTrackMarginStartStyle,\n              barTrackMarginBottomStyle,\n              barTrackMarginEndStyle\n            )\n          ])}>\n          {thresholdDisplay === 'all' &&\n            props.thresholds\n              ?.filter((threshold: Threshold) => threshold.max > min && threshold.max <= max)\n              .sort((a, b) => a.max - b.max)\n              .map((threshold: Threshold, index, thresholds) => {\n                const diff =\n                  index === 0 ? threshold.max - min : threshold.max - thresholds[index - 1].max;\n                const trackSectionLastStyle = isHoriz\n                  ? trackSectionHorizontalLastStyle\n                  : trackSectionVerticalLastStyle;\n                let trackSectionStyleClass =\n                  index === 0\n                    ? isHoriz\n                      ? trackSectionHorizontalFirstStyle\n                      : trackSectionVerticalFirstStyle\n                    : '';\n                if (threshold.max === max)\n                  trackSectionStyleClass =\n                    index === 0\n                      ? trackSectionRoundedCornersStyle // Single threshold from min to max\n                      : trackSectionLastStyle;\n                return (\n                  <>\n                    <ThresholdBar\n                      class={trackSectionStyleClass}\n                      orientation={orientation}\n                      length={`${(diff * 100) / (max - min)}%`}\n                      color={threshold.color}\n                    />\n                    {isTrackRendered && index === thresholds.length - 1 && threshold.max < max ? (\n                      <ThresholdBar\n                        class={trackSectionLastStyle}\n                        color={trackColor}\n                        orientation={orientation}\n                        length={`${((max - thresholds[index].max) * 100) / (max - min)}%`}\n                      />\n                    ) : (\n                      ''\n                    )}\n                  </>\n                );\n              })}\n          <BarValue\n            length={valueBarLength}\n            size={valueBarSize}\n            orientation={orientation}\n            class={classNames([\n              barValueBaseStyle,\n              isHoriz ? barValueHorizontalStyle : barValueVerticalStyle\n            ])}\n            color={indicatorColor}\n          />\n          {props.referenceLines?.map((item) => (\n            <ReferenceLineBar\n              color={item.color}\n              orientation={orientation}\n              percentage={`${((item.value - min) * 100) / (max - min)}%`}\n              position={item.position}\n            />\n          ))}\n        </BarTrack>\n      </div>\n      {datatipContent}\n    </>\n  );\n}\n\nconst getMarginClass = function (\n  info: { start: boolean; end: boolean },\n  isHoriz: boolean,\n  barTrackMarginTopStyle: string,\n  barTrackMarginStartStyle: string,\n  barTrackMarginBottomStyle: string,\n  barTrackMarginEndStyle: string\n) {\n  const className = [];\n\n  if (info.start) {\n    className.push(isHoriz ? barTrackMarginTopStyle : barTrackMarginStartStyle);\n  }\n\n  if (info.end) {\n    className.push(isHoriz ? barTrackMarginBottomStyle : barTrackMarginEndStyle);\n  }\n  return className;\n};\n"],"names":["getDimensions","element","width","height","trackDims","getBoundingClientRect","ReferenceLineBar","orientation","percentage","color","position","isHoriz","direction","useUser","isRtl","isStartPos","_jsx","class","classNames","styles","referenceLinesBaseStyle","referenceLinesHorizontalStyle","referenceLinesVerticalStyle","referenceLinesHoriontalStartStyle","referenceLinesVerticalStartRtlStyle","referenceLinesVerticalStartLtrStyle","style","left","undefined","right","bottom","backgroundColor","getDvtThresholdColor","ThresholdBar","length","otherProps","thresholdBarBaseStyle","thresholdBarHorizontalBarTrackSectionRtlStyle","thresholdBarHorizontalBarTrackSectionLtrStyle","thresholdBarVerticalBarTrackSectionStyle","getMarginClass","info","barTrackMarginTopStyle","barTrackMarginStartStyle","barTrackMarginBottomStyle","barTrackMarginEndStyle","className","start","push","end","max","min","value","step","size","isTrackRendered","thresholdDisplay","indicatorSize","props","validateRange","currentInputRef","useRef","barTrackRef","dimensionsRef","useEffect","onCommit","onInput","current","pointerEventsProps","usePointerEvents","event","target","dims","val","offsetX","offsetY","Math","round","getValue","keyboardEventsProps","useKeyboardEvents","datatipContent","datatipProps","useMeterDatatip","datatip","ariaLabelProps","getMeterAriaProps","thresholds","mergedProps","mergeProps","validIndicatorSize","valueBarLength","valueBarSize","trackColor","indicatorColor","getTrackAndIndicatorColor","sizeStyle","lines","refLineInfo","reduce","acc","cur","getRefLinesInfo","referenceLines","isInteractive","isTabbable","useTabbableMode","classes","interactiveStyle","barValueBaseStyle","barValueVerticalStyle","barValueHorizontalStyle","barTrackBaseStyle","barTrackHorizontalSizeStyle","barTrackVerticalSizeStyle","trackSectionHorizontalFirstStyle","trackSectionHorizontalLastStyle","trackSectionVerticalFirstStyle","trackSectionVerticalLastStyle","trackSectionRoundedCornersStyle","useComponentTheme","MeterBarRedwoodTheme","_jsxs","tabIndex","sizeToCSS","children","BarTrack","ref","filter","threshold","sort","a","b","map","index","diff","trackSectionLastStyle","trackSectionStyleClass","jsx","BarValue","item"],"mappings":"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"}