define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './utils/UNSAFE_classNames', 'module', './utils/PRIVATE_tabbableUtils', './classNames-711dac8e'], (function(e,t,r,n,s,c,u,o){"use strict";const a="_72dli0",l=n.forwardRef((({onFocus:e},r)=>t.jsx("div",{class:a,onFocus:e,ref:r,tabIndex:0}))),i=e=>{e&&u.isTabbableElement(e)&&setTimeout((()=>{u.focusOn(e)}),0)},f=(e,t)=>{if(0===e.length)return!1;const r=t??u.getActiveElement(e[0]);return e.some((e=>e===r||e?.contains(r)))},p="_14asjhp";e.FocusTrap=({autoFocusRef:e,children:s,isDisabled:c=!1,restoreFocusRef:a})=>{const d=n.useRef(null),m=n.useRef(null),F=n.useRef(null),b=n.useRef(null),x=o.classNames([p]),R=n.useCallback((e=>{const t=d.current;!c&&t&&e&&(e&&f([t,m.current,F.current],e)?b.current=e:b.current?u.focusOn(b.current):u.focusWithin(t))}),[c]);return n.useEffect((()=>{const t=d.current;if(!t||c)return;const r=u.getActiveElement(t);e&&e.current?u.focusOn(e.current):R(r);const n=a;return()=>{!1!==n&&i(n?.current||r)}}),[e,R,c,a]),t.jsxs(r.Fragment,{children:[!c&&t.jsx(l,{onFocus:e=>{!c&&d.current&&(u.focusOnEnd(d.current),e.stopPropagation(),e.preventDefault())},ref:m}),t.jsx("div",{onFocus:e=>{b.current=e.target},ref:d,class:x,children:s}),!c&&t.jsx(l,{onFocus:e=>{!c&&d.current&&(u.focusOnStart(d.current),e.stopPropagation(),e.preventDefault())},ref:F})]})}}));
//# sourceMappingURL=FocusTrap-84b5ca93.js.map
