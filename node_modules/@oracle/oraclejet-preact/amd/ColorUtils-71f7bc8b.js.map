{"version":3,"file":"ColorUtils-71f7bc8b.js","sources":["../../src/utils/PRIVATE_visColorUtils/ColorUtils.ts"],"sourcesContent":["/**\n *  Returns a specifed channel value from a css color specification (#, rgb(), rgba()).\n *  If an alpha channel is requested and a # or rgb string is supplied,\n *  an implied value of 1 is returned.\n *  @private\n *  @param  {String} colorString  The color string.\n *  @return The channel value as a decimal number (between 0 and 255).\n */\nexport function getRGBA(colorString: string) {\n  let clr = colorString;\n\n  // If clr is a named color, then convert into usable format\n  const namedColor = getColorFromName(clr);\n  if (namedColor) clr = namedColor;\n\n  // Alpha support\n  // if (clr.charAt(0) === '#') return clr.length > 7 ? parseInt(clr.substring(1, 3), 16) / 255 : 1;\n\n  const x1 = clr.indexOf('(');\n  let ar;\n  if (x1 < 0) {\n    ar = [];\n    //: parse channels for different # formats\n    if (clr.length > 7) {\n      //  #aarrggbb format\n      ar[0] = parseInt(clr.substr(3, 2), 16);\n      ar[1] = parseInt(clr.substr(5, 2), 16);\n      ar[2] = parseInt(clr.substr(7, 2), 16);\n      ar[3] = parseInt(clr.substr(1, 2), 16) / 255;\n    } else {\n      //  #rrggbb format\n      ar[0] = parseInt(clr.substr(1, 2), 16);\n      ar[1] = parseInt(clr.substr(3, 2), 16);\n      ar[2] = parseInt(clr.substr(5, 2), 16);\n      ar[3] = 1;\n    }\n  } else {\n    //  rgb() or rgba() format\n    ar = clr\n      .substring(x1 + 1)\n      .match(/[^,|)]+/gm)\n      ?.map((x) => parseFloat(x));\n  }\n\n  return ar;\n}\n\n/**\n * Returns the contrast ratio between two relative luminance values. The ratio can range from 1 to 21.\n * Follows the formula in www.w3.org/TR/WCAG20/#contrast-ratiodef\n * @param {number} luminance1\n * @param {number} luminance2\n * @return {number} The contrast ratio.\n */\nexport function getContrastRatioByLuminance(luminance1: number, luminance2: number) {\n  const l1 = luminance1 + 0.05;\n  const l2 = luminance2 + 0.05;\n  return l1 > l2 ? l1 / l2 : l2 / l1;\n}\n\n/**\n * Returns the relative brightness of any point in a colorspace, normalized to 0 for darkest black and 1 for lightest white.\n * Follows the formula in www.w3.org/TR/WCAG20/#relativeluminancedef\n * @param {string} color\n * @return {number} The relative luminance of the provided color.\n */\nexport function getLuminance(color: string) {\n  const transform = function (c: any) {\n    const cs = c / 255;\n    return cs < 0.03928 ? cs / 12.92 : Math.pow((cs + 0.055) / 1.055, 2.4);\n  };\n\n  const rgba = getRGBA(color);\n  const r = rgba?.[0];\n  const g = rgba?.[1];\n  const b = rgba?.[2];\n  return 0.2126 * transform(r) + 0.7152 * transform(g) + 0.0722 * transform(b);\n}\n\n/**\n * Returns a contrasting text color for the specified background color.\n * @param {string} backgroundColor The background color.\n * @return {string} A constrasting color for use on text.\n */\nexport function getContrastingTextColor(backgroundColor: string) {\n  // TODO: Retrieve from cache if it has been computed before\n  const luminance = getLuminance(backgroundColor);\n  const whiteContrast = getContrastRatioByLuminance(luminance, 1);\n  const blackContrast = getContrastRatioByLuminance(luminance, 0);\n  const textColor = whiteContrast > blackContrast ? '#FFFFFF' : '#000000';\n  return textColor;\n}\n\n/**\n * colormap const\n */\nconst colorMap: { [key: string]: string } = {};\ncolorMap['aliceblue'] = '#f0f8ff';\ncolorMap['antiquewhite'] = '#faEbd7';\ncolorMap['aqua'] = '#00ffff';\ncolorMap['aquamarine'] = '#7fffd4';\ncolorMap['azure'] = '#f0ffff';\ncolorMap['beige'] = '#f5f5dc';\ncolorMap['bisque'] = '#ffE4c4';\ncolorMap['black'] = '#000000';\ncolorMap['blanchedalmond'] = '#ffEbcd';\ncolorMap['blue'] = '#0000ff';\ncolorMap['blueviolet'] = '#8a2bE2';\ncolorMap['brown'] = '#a52a2a';\ncolorMap['burlywood'] = '#dEb887';\ncolorMap['cadetblue'] = '#5f9Ea0';\ncolorMap['chartreuse'] = '#7fff00';\ncolorMap['chocolate'] = '#d2691E';\ncolorMap['coral'] = '#ff7f50';\ncolorMap['cornflowerblue'] = '#6495Ed';\ncolorMap['cornsilk'] = '#fff8dc';\ncolorMap['crimson'] = '#dc143c';\ncolorMap['cyan'] = '#00ffff';\ncolorMap['darkblue'] = '#00008b';\ncolorMap['darkcyan'] = '#008b8b';\ncolorMap['darkgoldenrod'] = '#b8860b';\ncolorMap['darkgray'] = '#a9a9a9';\ncolorMap['darkgreen'] = '#006400';\ncolorMap['darkkhaki'] = '#bdb76b';\ncolorMap['darkmagenta'] = '#8b008b';\ncolorMap['darkolivegreen'] = '#556b2f';\ncolorMap['darkorange'] = '#ff8c00';\ncolorMap['darkorchid'] = '#9932cc';\ncolorMap['darkred'] = '#8b0000';\ncolorMap['darksalmon'] = '#E9967a';\ncolorMap['darkseagreen'] = '#8fbc8f';\ncolorMap['darkslateblue'] = '#483d8b';\ncolorMap['darkslategray'] = '#2f4f4f';\ncolorMap['darkturquoise'] = '#00cEd1';\ncolorMap['darkviolet'] = '#9400d3';\ncolorMap['deeppink'] = '#ff1493';\ncolorMap['deepskyblue'] = '#00bfff';\ncolorMap['dimgray'] = '#696969';\ncolorMap['dodgerblue'] = '#1E90ff';\ncolorMap['firebrick'] = '#b22222';\ncolorMap['floralwhite'] = '#fffaf0';\ncolorMap['forestgreen'] = '#228b22';\ncolorMap['fuchsia'] = '#ff00ff';\ncolorMap['gainsboro'] = '#dcdcdc';\ncolorMap['ghostwhite'] = '#f8f8ff';\ncolorMap['gold'] = '#ffd700';\ncolorMap['goldenrod'] = '#daa520';\ncolorMap['gray'] = '#808080';\ncolorMap['green'] = '#008000';\ncolorMap['greenyellow'] = '#adff2f';\ncolorMap['honeydew'] = '#f0fff0';\ncolorMap['hotpink'] = '#ff69b4';\ncolorMap['indianred '] = '#cd5c5c';\ncolorMap['indigo '] = '#4b0082';\ncolorMap['ivory'] = '#fffff0';\ncolorMap['khaki'] = '#f0E68c';\ncolorMap['lavender'] = '#E6E6fa';\ncolorMap['lavenderblush'] = '#fff0f5';\ncolorMap['lawngreen'] = '#7cfc00';\ncolorMap['lemonchiffon'] = '#fffacd';\ncolorMap['lightblue'] = '#add8E6';\ncolorMap['lightcoral'] = '#f08080';\ncolorMap['lightcyan'] = '#E0ffff';\ncolorMap['lightgoldenrodyellow'] = '#fafad2';\ncolorMap['lightgray'] = '#d3d3d3';\ncolorMap['lightgreen'] = '#90EE90';\ncolorMap['lightpink'] = '#ffb6c1';\ncolorMap['lightsalmon'] = '#ffa07a';\ncolorMap['lightseagreen'] = '#20b2aa';\ncolorMap['lightskyblue'] = '#87cEfa';\ncolorMap['lightslategray'] = '#778899';\ncolorMap['lightsteelblue'] = '#b0c4dE';\ncolorMap['lightyellow'] = '#ffffE0';\ncolorMap['lime'] = '#00ff00';\ncolorMap['limegreen'] = '#32cd32';\ncolorMap['linen'] = '#faf0E6';\ncolorMap['magenta'] = '#ff00ff';\ncolorMap['maroon'] = '#800000';\ncolorMap['mediumaquamarine'] = '#66cdaa';\ncolorMap['mediumblue'] = '#0000cd';\ncolorMap['mediumorchid'] = '#ba55d3';\ncolorMap['mediumpurple'] = '#9370db';\ncolorMap['mediumseagreen'] = '#3cb371';\ncolorMap['mediumslateblue'] = '#7b68EE';\ncolorMap['mediumspringgreen'] = '#00fa9a';\ncolorMap['mediumturquoise'] = '#48d1cc';\ncolorMap['mediumvioletred'] = '#c71585';\ncolorMap['midnightblue'] = '#191970';\ncolorMap['mintcream'] = '#f5fffa';\ncolorMap['mistyrose'] = '#ffE4E1';\ncolorMap['moccasin'] = '#ffE4b5';\ncolorMap['navajowhite'] = '#ffdEad';\ncolorMap['navy'] = '#000080';\ncolorMap['oldlace'] = '#fdf5E6';\ncolorMap['olive'] = '#808000';\ncolorMap['olivedrab'] = '#6b8E23';\ncolorMap['orange'] = '#ffa500';\ncolorMap['orangered'] = '#ff4500';\ncolorMap['orchid'] = '#da70d6';\ncolorMap['palegoldenrod'] = '#EEE8aa';\ncolorMap['palegreen'] = '#98fb98';\ncolorMap['paleturquoise'] = '#afEEEE';\ncolorMap['palevioletred'] = '#db7093';\ncolorMap['papayawhip'] = '#ffEfd5';\ncolorMap['peachpuff'] = '#ffdab9';\ncolorMap['peru'] = '#cd853f';\ncolorMap['pink'] = '#ffc0cb';\ncolorMap['plum'] = '#dda0dd';\ncolorMap['powderblue'] = '#b0E0E6';\ncolorMap['purple'] = '#800080';\ncolorMap['rebeccapurple'] = '#663399';\ncolorMap['red'] = '#ff0000';\ncolorMap['rosybrown'] = '#bc8f8f';\ncolorMap['royalblue'] = '#4169E1';\ncolorMap['saddlebrown'] = '#8b4513';\ncolorMap['salmon'] = '#fa8072';\ncolorMap['sandybrown'] = '#f4a460';\ncolorMap['seagreen'] = '#2E8b57';\ncolorMap['seashell'] = '#fff5EE';\ncolorMap['sienna'] = '#a0522d';\ncolorMap['silver'] = '#c0c0c0';\ncolorMap['skyblue'] = '#87cEEb';\ncolorMap['slateblue'] = '#6a5acd';\ncolorMap['slategray'] = '#708090';\ncolorMap['snow'] = '#fffafa';\ncolorMap['springgreen'] = '#00ff7f';\ncolorMap['steelblue'] = '#4682b4';\ncolorMap['tan'] = '#d2b48c';\ncolorMap['teal'] = '#008080';\ncolorMap['thistle'] = '#d8bfd8';\ncolorMap['tomato'] = '#ff6347';\ncolorMap['turquoise'] = '#40E0d0';\ncolorMap['violet'] = '#EE82EE';\ncolorMap['wheat'] = '#f5dEb3';\ncolorMap['white'] = '#ffffff';\ncolorMap['whitesmoke'] = '#f5f5f5';\ncolorMap['yellow'] = '#ffff00';\ncolorMap['yellowgreen'] = '#9acd32';\ncolorMap['transparent'] = 'rgba(255,255,255,0)';\n\n/**\n * Returns a color definition string from the named color.\n * @param {String}  name  The color name.\n * @type {String}\n * @return  An #rrggbb color string.\n */\nexport function getColorFromName(name: string) {\n  return colorMap[name.toLowerCase()];\n}\n"],"names":["getRGBA","colorString","clr","namedColor","getColorFromName","x1","indexOf","ar","length","parseInt","substr","substring","match","map","x","parseFloat","getContrastRatioByLuminance","luminance1","luminance2","l1","l2","getLuminance","color","transform","c","cs","Math","pow","rgba","r","g","b","colorMap","name","toLowerCase","backgroundColor","luminance"],"mappings":"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"}