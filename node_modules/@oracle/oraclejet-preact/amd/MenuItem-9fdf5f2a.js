define(['exports', 'preact/jsx-runtime', 'preact/hooks', './UNSAFE_Text', './utils/UNSAFE_classNames', './hooks/UNSAFE_useId', './utils/UNSAFE_mergeProps', './hooks/UNSAFE_usePress', './hooks/UNSAFE_useUser', './hooks/UNSAFE_useComponentTheme', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_interpolations/flexitem', './hooks/UNSAFE_useInteractionStyle', 'preact', 'preact/compat', './utils/PRIVATE_clientHints', './clientHints-ff5d5d13', './hooks/UNSAFE_useToggle', './UNSAFE_Menu/themes/redwood/MenuItemTheme', './flexitem-391ab989', './classNames-711dac8e', './Text-4cc07262'], (function(e,n,t,o,s,r,u,a,i,l,c,d,m,p,f,h,g,y,C,M,v,b){"use strict";const x=e=>e.dataset.ojMenuItemKey,k=e=>{const n=e.closest("[data-oj-menu-item-key]");if(n){const e=x(n);return void 0===e?null:{key:e,elem:n}}return null},S=(e,n)=>{if(!n)return{};return{onKeyDown:t=>{"ltr"===e?"ArrowRight"===t.key&&n?.():"ArrowLeft"===t.key&&n?.()}}},I=p.createContext({isMobile:!1,onClose:()=>null});function E(){return t.useContext(I)}const F=p.createContext({menuContainerRef:{current:null},currentKey:void 0,showFocusRing:!1,changeKey:()=>{},isContainerFocused:!1,menuContainerGeneralInformation:{current:{wasMouseMoved:!1,lastMouseLeaveMenuItemdRelatedTarget:null}}});function A(){return t.useContext(F)}const w=f.forwardRef((({id:e,label:o,onAction:s,startIcon:r,endIcon:d,role:p,isChecked:f,isDisabled:h=!1,variant:g="standard",type:x,hoverInfo:k,openSubmenu:I,menuItemLabelWeight:F="normal",isSubmenuOpen:w,submenuId:N,submenuRef:T},P)=>{const{onClose:U}=E(),{currentKey:j,changeKey:R,showFocusRing:L,menuContainerRef:_,menuContainerGeneralInformation:D,isContainerFocused:K}=A(),O=t.useRef(null),{direction:q}=i.useUser(),H=j===e,V=t.useCallback((e=>{"submenu"!==x&&U?.({reason:"itemAction"}),s?.(e)}),[x,U,s]),{hoverProps:B}=function(e){const{bool:n,setTrue:t,setFalse:o}=y.useToggle(!1);return{hoverProps:{ontouchend:t,onMouseEnter:t=>{n?o():e.onMouseEnter(t)},onMouseLeave:n=>{e.onMouseLeave(n)}}}}({onMouseEnter:n=>{k?.hoverStatus.current.recentClose||k?.hoverStatus.current.pendingUnhover||(k&&D.current.wasMouseMoved&&(k.hoverStatus.current.pendingUnhover=!0),D.current.wasMouseMoved&&(k?.hoverProps.onMouseEnter(n),R({key:e,reason:"mouseEnter"})))},onMouseLeave:e=>{k&&(k.hoverStatus.current.pendingUnhover=!1),(_.current?.contains(e.relatedTarget)||T?.current?.contains(e.relatedTarget))&&(D.current.lastMouseLeaveMenuItemdRelatedTarget=e.relatedTarget)}}),{pressProps:G}=a.usePress(V,{isDisabled:h});t.useLayoutEffect((()=>{H&&O.current?.focus()}),[H]);const{interactionProps:z}=m.useInteractionStyle(h),{classes:W,styles:{iconLabelContainer:$,iconContainer:J,startIconContainer:Q,labelContainer:X,endIconContainer:Y}}=l.useComponentTheme(C.MenuItemRedwoodTheme,{current:H?"isCurrent":"notCurrent",focusRing:L?"isFocusRing":"notFocusRing",variant:h?"disabled":g,containerFocused:K?"isContainerFocused":"notContainerFocused",submenuOpen:w?"isSubmenuOpen":"notSubmenuOpen"}),Z=c.mergeInterpolations([...Object.values(M.flexitemInterpolations)]),{class:ee,...ne}=Z({flex:"1 1 auto",alignSelf:"center"}),{class:te,...oe}=Z({flex:"0 0 auto",alignSelf:"center"}),se=v.classNames([te,$,J,Q]),re=v.classNames([ee,$,X]),ue=v.classNames([te,$,J,Y]);return n.jsx("div",{role:"presentation",...void 0!==N&&"submenu"===x&&{"aria-owns":N},children:n.jsxs("a",{ref:e=>{O.current=e,"function"==typeof P?P(e):P&&(P.current=e)},class:W,...u.mergeProps(z,B,G,S(q,I),(ae=e,ie=R,{onClick:()=>{ie({key:ae,reason:"click"})}})),role:p,"data-oj-menu-item-key":e,..."submenu"===x&&{"aria-haspopup":!0,"aria-expanded":!!w},...h&&{"aria-disabled":!0},..."select"===x&&{"aria-checked":!!f},tabIndex:H?0:-1,children:[r&&n.jsx("span",{style:oe,class:se,children:r}),n.jsx("span",{style:ne,class:re,children:n.jsx(b.Text,{variant:"inherit",size:"md",weight:F,children:o})}),d&&n.jsx("span",{style:oe,class:ue,children:d})]})});var ae,ie}));e.BaseMenuItem=w,e.MenuContainerContext=F,e.MenuContext=I,e.MenuItem=function(e){const o=r.useId(),s=t.useMemo((()=>`oj-menu-item-${o}`),[o]);return n.jsx(w,{...e,role:"menuitem",type:"simple",id:s})},e.getCloseSubmenuEvent=(e,n)=>{if(!n)return{};return{onKeyDown:t=>{("Escape"===t.key||"ltr"===e&&"ArrowLeft"===t.key||"rtl"===e&&"ArrowRight"===t.key)&&(t.stopPropagation(),n?.())}}},e.getIsMobile=()=>{const{deviceType:e}=g.getClientHints();return"phone"===e},e.getKeyboardCloseProps=(e,n)=>({onKeyDown:t=>{"Tab"===t.key?(t.stopPropagation(),e?.({reason:"dismissed"}),t.preventDefault()):"Escape"===t.key&&"main"===n&&(t.stopPropagation(),e?.({reason:"dismissed"}))}}),e.getLastVisible=e=>{if(e){const n=e.querySelectorAll("[data-oj-menu-item-key]"),t=n[n.length-1];if(t){const e=x(t);if(e)return e}}return null},e.getMenuContainerFocusMethods=(e,n)=>({onBlur:()=>{setTimeout((()=>{e()}),100)},onFocus:()=>{n()}}),e.getMenuContainerMouseLeave=e=>({onMouseLeave:n=>{e(n)}}),e.getMenuPointerDown=()=>({onPointerDown:e=>{const n=k(e.target);n?.key||e.preventDefault()}}),e.getNVisible=(e,n)=>{if(e){const t=e.querySelectorAll("[data-oj-menu-item-key]")[n];if(t){const e=x(t);if(e)return e}}return null},e.getPrevNext=(e,n,t)=>()=>{if(e){const o=Array.from(e.querySelectorAll("[data-oj-menu-item-key]"));let s=o.findIndex((e=>x(e)===t))+(n?-1:1);const r=o.length-1;s<0&&(s=r),s>r&&(s=0);const u=x(o[s]);return u||null}return null},e.keyElemExtractor=k,e.useMenuContainerContext=A,e.useMenuContext=E}));
//# sourceMappingURL=MenuItem-9fdf5f2a.js.map
