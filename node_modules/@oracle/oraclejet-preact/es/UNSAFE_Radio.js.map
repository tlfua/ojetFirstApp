{"version":3,"file":"UNSAFE_Radio.js","sources":["../../src/UNSAFE_Radio/Radio.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { useFocus } from '../hooks/UNSAFE_useFocus';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { useId } from '../hooks/UNSAFE_useId';\nimport { useTabbableMode } from '../hooks/UNSAFE_useTabbableMode';\nimport { useInteractionStyle } from '../hooks/UNSAFE_useInteractionStyle';\nimport { useCheckboxRadioContext } from '../PRIVATE_CheckboxRadioField/CheckboxRadioContext';\nimport { CheckIcon } from '../PRIVATE_ThemedIcons/CheckIcon';\nimport { RadioOffIcon } from '../PRIVATE_ThemedIcons/RadioOffIcon';\nimport { RadioOnIcon } from '../PRIVATE_ThemedIcons/RadioOnIcon';\nimport { HiddenAccessible } from '../UNSAFE_HiddenAccessible';\nimport { useRadioGroupContext } from '../UNSAFE_RadioGroup/RadioGroupContext';\n\nimport { IconUserAssistance } from '../UNSAFE_UserAssistance';\nimport { getVarName } from '../utils/UNSAFE_stringUtils';\nimport { radioIconVars } from './themes/RadioIconContract.css';\nimport { RadioIconRedwoodTheme } from './themes/redwood/RadioIconTheme';\nimport { RadioRedwoodTheme } from './themes/redwood/RadioTheme';\n\n// FIXME: \ntype CalcType = `calc(${string})`;\n\ntype Props = {\n  /**\n   * Text to provide guidance to help the user understand what data to enter.\n   */\n  assistiveText?: string;\n  /**\n   * Text that describes the radio button value.\n   */\n  children: string;\n  /**\n   * Help source URL associated with the component.\n   */\n  helpSourceLink?: string;\n  /**\n   * Custom text to be rendered for the `helpSourceLink`.\n   */\n  helpSourceText?: string;\n  /**\n   * Value of the radio button.\n   */\n  value: string;\n};\n\nexport const Radio = ({ value, children, ...assistanceProps }: Props) => {\n  const { isReadonly: isFormReadonly, isDisabled: isFormDisabled } = useFormContext();\n  const { isDisabled: isFieldDisabled, isReadonly: isFieldReadonly } = useFormFieldContext();\n  const { name, value: groupValue, onCommit } = useRadioGroupContext();\n  const { isFocusRingShown } = useCheckboxRadioContext();\n  const { isTabbable } = useTabbableMode();\n\n  const id = useId();\n  const { isFocus, focusProps } = useFocus();\n\n  const isSelected = groupValue === value;\n  const isDisabled = isFieldDisabled ?? isFormDisabled;\n  const isReadonly = isFieldReadonly ?? isFormReadonly;\n\n  const { interactionProps, applyActiveStyle } = useInteractionStyle();\n\n  const {\n    classes: radioClasses,\n    styles: { valueLabelStyle, valueTextStyle }\n  } = useComponentTheme(RadioRedwoodTheme, {\n    disabled: isDisabled ? 'isDisabled' : 'notDisabled',\n    focused: isFocus && isFocusRingShown ? 'isFocused' : ''\n  });\n\n  const { classes: radioIconClasses } = useComponentTheme(RadioIconRedwoodTheme, {\n    disabled: isDisabled ? 'isDisabled' : 'notDisabled',\n    selected: isSelected ? 'isSelected' : 'notSelected',\n    readonly: isReadonly ? 'isReadonly' : 'notReadonly',\n    active: applyActiveStyle ? 'isActive' : 'notActive'\n  });\n\n  const { assistiveText, helpSourceLink } = assistanceProps;\n  const hasUserAssistive = !isReadonly && !!(assistiveText || helpSourceLink);\n  const uaId = hasUserAssistive ? `${id}-icon-ua` : undefined;\n\n  const IconComp = isReadonly\n    ? isSelected\n      ? CheckIcon\n      : RadioOffIcon\n    : isSelected\n    ? RadioOnIcon\n    : RadioOffIcon;\n\n  return (\n    <div>\n      <label class={radioClasses} {...interactionProps}>\n        <HiddenAccessible>\n          <input\n            type=\"radio\"\n            name={name}\n            id={id}\n            value={value}\n            {...(!isReadonly && {\n              onChange: (e) => {\n                e.stopPropagation();\n                onCommit?.({ previousValue: groupValue, value });\n              }\n            })}\n            checked={isSelected}\n            disabled={isDisabled}\n            aria-describedby={uaId}\n            {...(!isTabbable && { tabIndex: -1 })}\n            {...(isReadonly && { 'aria-readonly': true })}\n            {...focusProps}\n          />\n        </HiddenAccessible>\n        <span aria-hidden=\"true\" class={radioIconClasses}>\n          <IconComp size={getVarName(radioIconVars.iconSize) as CalcType} color=\"currentColor\" />\n        </span>\n        <span class={valueLabelStyle}>\n          <span class={valueTextStyle}>{children}</span>\n          {hasUserAssistive && (\n            <IconUserAssistance\n              {...assistanceProps}\n              isTabbable={isTabbable && isSelected && isFocus}\n              id={uaId as string}\n            />\n          )}\n        </span>\n      </label>\n    </div>\n  );\n};\n"],"names":["CheckIcon","RadioOffIcon","RadioOnIcon","_jsx","_jsxs"],"mappings":"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"}