{"version":3,"file":"UNSAFE_ProgressCircle.js","sources":["../../src/UNSAFE_ProgressCircle/ProgressCircle.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentProps } from 'preact';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { CircleWrapper, CircleInner } from '../PRIVATE_Meter';\nimport { getProgressClipPath } from '../utils/PRIVATE_meterUtils';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport type { BundleType } from '../resources/nls/bundle';\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport {\n  ProgressCircleStyles,\n  ProgressCircleVariantOptions\n} from './themes/ProgressCircleStyles.css';\nimport { ProgressCircleRedwoodTheme } from './themes/redwood/ProgressCircleTheme';\ntype ariaPropsType = ComponentProps<typeof CircleWrapper>['ariaProps'];\ntype IntrinsicProps = Pick<\n  HTMLAttributesSignalExcluded<HTMLDivElement>,\n  'id' | 'class' | 'children'\n>;\n\ntype Props = IntrinsicProps & {\n  /**\n   * Specifies the id of the progress circle.  If the progress circle is being used to describe the loading process of a particular region\n   * of the page, then the aria-describedby attribute of the region must point to the id of the ProgressCircle\n   */\n  id?: IntrinsicProps['id'];\n  /**\n   * The value of the progress circle.  If the value is 'indeterminate', an indeterminate progress circle will be shown.\n   */\n  value?: 'indeterminate' | number;\n\n  /**\n   * The maximum value of the progress circle.\n   */\n  max?: number;\n  /**\n   * The size of the progress circle. The default value of this property is theme driven.\n   */\n  size?: 'sm' | 'md' | 'lg';\n\n  /**\n   * A label to be used for accessibility purposes when value is set to 'indeterminate'. This will be used for the aria-valuetext of the DOM element.\n   */\n  'aria-valuetext'?: string;\n};\n/**\n * A progress circle allows the user to visualize the progression of an extended computer operation.\n */\nexport function ProgressCircle({ value, max, ...otherProps }: Props) {\n  return value === 'indeterminate' ? (\n    <IndeterminateProgressCircle {...otherProps}></IndeterminateProgressCircle>\n  ) : (\n    <DeterminateProgressCircle value={value} max={max} {...otherProps}></DeterminateProgressCircle>\n  );\n}\n\ntype IndeterminateProps = Omit<Props, 'value' | 'max'>;\n\nconst IndeterminateProgressCircle = ({ id, size, ...props }: IndeterminateProps) => {\n  const {\n    classes,\n    styles: { indeterminate }\n  } = useComponentTheme<ProgressCircleVariantOptions, ProgressCircleStyles>(\n    ProgressCircleRedwoodTheme,\n    {\n      size,\n      type: 'indeterminate'\n    }\n  );\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const ariaProps: ariaPropsType = {\n    'aria-valuetext': props['aria-valuetext'] || translations.progressIndeterminate(),\n    role: 'progressbar'\n  };\n  return (\n    <CircleWrapper id={id} ariaProps={ariaProps} class={classes}>\n      <CircleInner class={indeterminate} />\n    </CircleWrapper>\n  );\n};\n\ntype DeterminateProps = Omit<Props, 'aria-valuetext'> & {\n  value?: number;\n};\n\nconst DeterminateProgressCircle = ({ value = 0, max = 100, id, size }: DeterminateProps) => {\n  const {\n    classes,\n    styles: { determinate, track, valueStyle }\n  } = useComponentTheme<ProgressCircleVariantOptions, ProgressCircleStyles>(\n    ProgressCircleRedwoodTheme,\n    {\n      size\n    }\n  );\n\n  const percentage = Math.min(Math.max(0, value / max), 1);\n  const clipPath = getProgressClipPath(percentage);\n\n  const ariaProps: ariaPropsType = {};\n  ariaProps['aria-valuemin'] = value != null ? 0 : undefined;\n  ariaProps['aria-valuemax'] = value != null ? max : undefined;\n  ariaProps['aria-valuenow'] = value != null ? value : undefined;\n  ariaProps['role'] = 'progressbar';\n  return (\n    <CircleWrapper id={id} ariaProps={ariaProps} class={classes}>\n      <CircleInner class={classNames([determinate, track])} />\n      <CircleInner class={classNames([determinate, valueStyle])} clipPath={clipPath} />\n    </CircleWrapper>\n  );\n};\n"],"names":["_jsx","_jsxs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEG;AACG,SAAU,cAAc,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,UAAU,EAAS,EAAA;AACjE,IAAA,OAAO,KAAK,KAAK,eAAe,IAC9BA,GAAA,CAAC,2BAA2B,EAAA,EAAA,GAAK,UAAU,EAAA,CAAgC,KAE3EA,GAAC,CAAA,yBAAyB,EAAC,EAAA,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAA,GAAM,UAAU,EAAA,CAA8B,CAChG,CAAC;AACJ,CAAC;AAID,MAAM,2BAA2B,GAAG,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,KAAK,EAAsB,KAAI;AACjF,IAAA,MAAM,EACJ,OAAO,EACP,MAAM,EAAE,EAAE,aAAa,EAAE,EAC1B,GAAG,iBAAiB,CACnB,0BAA0B,EAC1B;QACE,IAAI;AACJ,QAAA,IAAI,EAAE,eAAe;AACtB,KAAA,CACF,CAAC;AAEF,IAAA,MAAM,YAAY,GAAG,oBAAoB,CAAa,0BAA0B,CAAC,CAAC;AAClF,IAAA,MAAM,SAAS,GAAkB;QAC/B,gBAAgB,EAAE,KAAK,CAAC,gBAAgB,CAAC,IAAI,YAAY,CAAC,qBAAqB,EAAE;AACjF,QAAA,IAAI,EAAE,aAAa;KACpB,CAAC;IACF,QACEA,GAAC,CAAA,aAAa,EAAC,EAAA,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EACzD,QAAA,EAAAA,GAAA,CAAC,WAAW,EAAA,EAAC,KAAK,EAAE,aAAa,EAAA,CAAI,EACvB,CAAA,EAChB;AACJ,CAAC,CAAC;AAMF,MAAM,yBAAyB,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAoB,KAAI;AACzF,IAAA,MAAM,EACJ,OAAO,EACP,MAAM,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAE,EAC3C,GAAG,iBAAiB,CACnB,0BAA0B,EAC1B;QACE,IAAI;AACL,KAAA,CACF,CAAC;AAEF,IAAA,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACzD,IAAA,MAAM,QAAQ,GAAG,mBAAmB,CAAC,UAAU,CAAC,CAAC;IAEjD,MAAM,SAAS,GAAkB,EAAE,CAAC;AACpC,IAAA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,CAAC,GAAG,SAAS,CAAC;AAC3D,IAAA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,GAAG,GAAG,SAAS,CAAC;AAC7D,IAAA,SAAS,CAAC,eAAe,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,GAAG,SAAS,CAAC;AAC/D,IAAA,SAAS,CAAC,MAAM,CAAC,GAAG,aAAa,CAAC;IAClC,QACEC,KAAC,aAAa,EAAA,EAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAA,QAAA,EAAA,CACzDD,GAAC,CAAA,WAAW,IAAC,KAAK,EAAE,UAAU,CAAC,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,EAAA,CAAI,EACxDA,GAAA,CAAC,WAAW,EAAC,EAAA,KAAK,EAAE,UAAU,CAAC,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAA,CAAI,CACnE,EAAA,CAAA,EAChB;AACJ,CAAC;;;;"}