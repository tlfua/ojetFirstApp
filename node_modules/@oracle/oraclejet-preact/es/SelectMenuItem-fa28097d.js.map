{"version":3,"file":"SelectMenuItem-fa28097d.js","sources":["../../src/UNSAFE_Menu/SelectMenuGroupContext.tsx","../../src/UNSAFE_Menu/useSelectMenuGroupContext.tsx","../../src/UNSAFE_Menu/SelectMenuItem.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { createContext } from 'preact';\n\nimport { MenuValueUpdateDetail } from './menuUtils';\n\ntype SelectSingleMenuGroupContextProps = {\n  isMultiple: false;\n  value?: string;\n  onCommit?: (detail: MenuValueUpdateDetail<string>) => void;\n};\ntype SelectMultipleMenuGroupContextProps = {\n  isMultiple: true;\n  value?: string[];\n  onCommit?: (detail: MenuValueUpdateDetail<string[]>) => void;\n};\n\ntype SelectMenuGroupContextProps =\n  | SelectSingleMenuGroupContextProps\n  | SelectMultipleMenuGroupContextProps;\n\nconst SelectMenuGroupContext = createContext<SelectMenuGroupContextProps>({\n  isMultiple: false\n});\n\nexport { SelectMenuGroupContext, SelectMenuGroupContextProps };\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useContext } from 'preact/hooks';\nimport { SelectMenuGroupContext } from './SelectMenuGroupContext';\n\n/**\n * Utility hook for consuming the MenuContext\n *\n * @returns The value of MenuContext provider\n */\nfunction useSelectMenuGroupContext() {\n  return useContext(SelectMenuGroupContext);\n}\n\nexport { useSelectMenuGroupContext };\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { ComponentChildren } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { useId } from '../hooks/UNSAFE_useId';\n\nimport { CheckIcon } from '../PRIVATE_ThemedIcons/CheckIcon';\n\nimport { BaseMenuItem } from './MenuItem';\nimport { useSelectMenuGroupContext } from './useSelectMenuGroupContext';\n\ntype SelectMenuItemProps = {\n  value: string;\n  label: string;\n  isDisabled?: boolean;\n  endIcon?: ComponentChildren;\n};\n\nexport function SelectMenuItem({ value, label, isDisabled, endIcon }: SelectMenuItemProps) {\n  const { isMultiple, value: selectedValue, onCommit } = useSelectMenuGroupContext();\n  const uniqueID = useId();\n  const id = useMemo(() => `oj-menu-item-${uniqueID}`, [uniqueID]);\n\n  const { isSelected, memoizedOnCommit } = useMemo(() => {\n    if (!isMultiple) {\n      return {\n        isSelected: selectedValue === value,\n        memoizedOnCommit: () => {\n          onCommit?.({ value, previousValue: selectedValue });\n        }\n      };\n    }\n    return {\n      isSelected: !!selectedValue?.includes(value),\n      memoizedOnCommit: () => {\n        const proposedValue = isSelected\n          ? selectedValue?.filter((val) => val !== value) || []\n          : [...(selectedValue || []), value];\n        onCommit?.({ value: proposedValue, previousValue: selectedValue });\n      }\n    };\n  }, [selectedValue, value, onCommit, isMultiple]);\n\n  return (\n    <BaseMenuItem\n      id={id}\n      type=\"select\"\n      role={isMultiple ? 'menuitemcheckbox' : 'menuitemradio'}\n      isChecked={isSelected}\n      isDisabled={isDisabled}\n      startIcon={isSelected ? <CheckIcon /> : <span></span>}\n      label={label}\n      onAction={memoizedOnCommit}\n      endIcon={endIcon}\n    />\n  );\n}\n"],"names":["_jsx","CheckIcon"],"mappings":";;;;;;;;AAAA;;;;;;AAMG;AAqBG,MAAA,sBAAsB,GAAG,aAAa,CAA8B;AACxE,IAAA,UAAU,EAAE,KAAK;AAClB,CAAA;;AC7BD;;;;;;AAMG;AAKH;;;;AAIG;AACH,SAAS,yBAAyB,GAAA;AAChC,IAAA,OAAO,UAAU,CAAC,sBAAsB,CAAC,CAAC;AAC5C;;ACMM,SAAU,cAAc,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAuB,EAAA;AACvF,IAAA,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,GAAG,yBAAyB,EAAE,CAAC;AACnF,IAAA,MAAM,QAAQ,GAAG,KAAK,EAAE,CAAC;AACzB,IAAA,MAAM,EAAE,GAAG,OAAO,CAAC,MAAM,CAAgB,aAAA,EAAA,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEjE,MAAM,EAAE,UAAU,EAAE,gBAAgB,EAAE,GAAG,OAAO,CAAC,MAAK;QACpD,IAAI,CAAC,UAAU,EAAE;YACf,OAAO;gBACL,UAAU,EAAE,aAAa,KAAK,KAAK;gBACnC,gBAAgB,EAAE,MAAK;oBACrB,QAAQ,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC,CAAC;iBACrD;aACF,CAAC;AACH,SAAA;QACD,OAAO;YACL,UAAU,EAAE,CAAC,CAAC,aAAa,EAAE,QAAQ,CAAC,KAAK,CAAC;YAC5C,gBAAgB,EAAE,MAAK;gBACrB,MAAM,aAAa,GAAG,UAAU;AAC9B,sBAAE,aAAa,EAAE,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,KAAK,KAAK,CAAC,IAAI,EAAE;sBACnD,CAAC,IAAI,aAAa,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;AACtC,gBAAA,QAAQ,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC,CAAC;aACpE;SACF,CAAC;KACH,EAAE,CAAC,aAAa,EAAE,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC;IAEjD,QACEA,GAAC,CAAA,YAAY,EACX,EAAA,EAAE,EAAE,EAAE,EACN,IAAI,EAAC,QAAQ,EACb,IAAI,EAAE,UAAU,GAAG,kBAAkB,GAAG,eAAe,EACvD,SAAS,EAAE,UAAU,EACrB,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,UAAU,GAAGA,GAAA,CAACC,QAAS,EAAA,EAAA,CAAG,GAAGD,GAAA,CAAA,MAAA,EAAA,EAAA,CAAa,EACrD,KAAK,EAAE,KAAK,EACZ,QAAQ,EAAE,gBAAgB,EAC1B,OAAO,EAAE,OAAO,EAChB,CAAA,EACF;AACJ;;;;"}