{"version":3,"file":"UNSAFE_Legend.js","sources":["../../src/UNSAFE_Legend/LegendImageMarker.tsx","../../src/UNSAFE_Legend/LegendSymbol.tsx","../../src/UNSAFE_Legend/LegendText.tsx","../../src/UNSAFE_Legend/BaseLegendItem.tsx","../../src/UNSAFE_Legend/LegendUtils.ts","../../src/UNSAFE_Legend/BaseLegend.tsx","../../src/UNSAFE_Legend/useEvents.ts","../../src/UNSAFE_Legend/LegendNavUtils.ts","../../src/UNSAFE_Legend/useLegendTooltip.ts","../../src/UNSAFE_Legend/useItemFocus.ts","../../src/UNSAFE_Legend/useLegendLayout.ts","../../src/UNSAFE_Legend/Legend.tsx","../../src/UNSAFE_Legend/SectionalLegendNavUtils.ts","../../src/UNSAFE_Legend/SectionalLegend.tsx","../../src/UNSAFE_Legend/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { styles } from './themes/LegendStyles.css';\n\ntype ImageMarkerProps = {\n  source: string;\n};\n\nexport function ImageMarker(props: ImageMarkerProps) {\n  const { imageMarkerStyle } = styles;\n  return <img class={imageMarkerStyle} src={props.source} />;\n}\n","import { SvgSymbol } from '../UNSAFE_SvgShapes';\nimport { SymbolProps } from './Legend.type';\nimport { ImageMarker } from './LegendImageMarker';\nimport { Property } from 'csstype';\nimport { styles } from './themes/LegendStyles.css';\n\ntype LegendSymbolProps = {\n  isHidden?: boolean;\n  lineLength?: number;\n  width?: Property.Width;\n  height?: Property.Height;\n  borderColor?: Property.Color;\n} & SymbolProps;\n\nexport const LegendSymbol = ({\n  // The default color is not in the redwood pallete.\n  // TODO: replace default legend color with UX approved pallete color when available.\n  markerColor = '#a6acb1',\n  lineColor = '#a6acb1',\n  markerShape = 'square',\n  isHidden = false,\n  lineStyle = 'none',\n  ...props\n}: LegendSymbolProps) => {\n  const { legendSymbolBaseStyle } = styles;\n  const dimensionsNotSet = props.width == null && props.height == null;\n  const setAspectRatioNone =\n    !dimensionsNotSet && (markerShape === 'rectangle' || markerShape === 'ellipse');\n  const defaultLineWidth = lineStyle != 'none' && markerShape != 'none' ? 2 : 3;\n  return (\n    <div className={legendSymbolBaseStyle} style={{ width: props.width, height: props.height }}>\n      {props.source ? (\n        <ImageMarker source={props.source} />\n      ) : (\n        <SvgSymbol\n          setAspectRatioNone={setAspectRatioNone}\n          markerShape={isHidden ? 'square' : markerShape}\n          lineStyle={isHidden ? 'none' : lineStyle}\n          lineColor={lineColor}\n          lineLength={props.lineLength}\n          lineWidth={props.lineWidth != null ? props.lineWidth : defaultLineWidth}\n          markerColor={isHidden ? 'transparent' : markerColor}\n          borderColor={isHidden ? markerColor || lineColor : props.borderColor}\n        />\n      )}\n    </div>\n  );\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { Text } from '../UNSAFE_Text';\nimport { Property } from 'csstype';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { styles } from './themes/LegendStyles.css';\n\ntype LegendTextProps = {\n  text: string;\n  type: 'label' | 'title';\n  fontStyle?: Property.FontStyle;\n  fontSize?: Property.FontSize;\n  fontWeight?: Property.FontWeight;\n  textDecoration?: Property.TextDecoration;\n  color?: Property.Color;\n  fontFamily?: Property.FontFamily;\n  id?: string;\n  align?: 'start' | 'center' | 'end';\n};\n\n/**\n * Returns the legend text component.\n */\nexport const LegendText = ({\n  text,\n  type = 'label',\n  id,\n  align = 'start',\n  ...props\n}: LegendTextProps) => {\n  const {\n    legendTextBaseStyle,\n    legendTextTitle,\n    legendTitleStartAlign,\n    legendTitleCenterAlign,\n    legendTitleEndAlign\n  } = styles;\n  const isTitle = type === 'title';\n  return (\n    <div\n      class={classNames([\n        legendTextBaseStyle,\n        isTitle ? legendTextTitle : '',\n        isTitle && align === 'start' ? legendTitleStartAlign : '',\n        isTitle && align === 'center' ? legendTitleCenterAlign : '',\n        isTitle && align === 'end' ? legendTitleEndAlign : ''\n      ])}\n      style={{\n        ...props\n      }}>\n      <Text size=\"inherit\" variant=\"inherit\" weight=\"inherit\" truncation={'ellipsis'} id={id}>\n        {text}\n      </Text>\n    </div>\n  );\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { LegendSymbol } from './LegendSymbol';\nimport { LegendText } from './LegendText';\nimport { SymbolProps, TextStylesProps } from './Legend.type';\nimport { ForwardedRef, forwardRef } from 'preact/compat';\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\nimport { styles } from './themes/LegendStyles.css';\n\ntype BaseLegendItemProps = {\n  text: string;\n  itemIdx: number;\n  sectionIdx: number;\n  isCurrent: boolean;\n  isFocused: boolean;\n  isHighlighted?: boolean;\n  isHidden?: boolean;\n  symbolWidth?: number;\n  symbolHeight?: number;\n  labelledBy?: string;\n  id?: string;\n  'aria-label'?: HTMLAttributesSignalExcluded['aria-label'];\n  class?: string;\n  minWidth?: number;\n  gridCol?: number;\n  gridRow?: number;\n} & SymbolProps &\n  TextStylesProps;\n\nexport const BaseLegendItem = forwardRef(\n  (\n    {\n      id,\n      text,\n      sectionIdx,\n      itemIdx,\n      isHighlighted,\n      symbolHeight,\n      symbolWidth,\n      isFocused,\n      isCurrent,\n      isHidden,\n      ...props\n    }: BaseLegendItemProps,\n    ref: ForwardedRef<HTMLDivElement>\n  ) => {\n    const textStyles = {\n      fontFamily: props.textFontFamily,\n      fontSize: props.textFontSize,\n      color: props.textColor,\n      fontStyle: props.textFontStyle,\n      fontWeight: props.textFontWeight,\n      textDecoration: props.textTextDecoration\n    };\n\n    const symbolProps = {\n      lineStyle: props.lineStyle,\n      lineWidth: props.lineWidth,\n      markerShape: props.markerShape,\n      markerColor: props.markerColor,\n      source: props.source,\n      borderColor: props.borderColor,\n      lineColor: props.lineColor\n    };\n\n    const isNotDimmed = isHighlighted || isHighlighted == null;\n    const { legendItemBaseStyle, legendItemIsCurrent, legendItemOpacity, legendItemFocusRing } =\n      styles;\n    return (\n      <div\n        class={classNames([\n          legendItemBaseStyle,\n          isCurrent && isHighlighted == null ? legendItemIsCurrent : '',\n          !isNotDimmed ? legendItemOpacity : '',\n          isFocused ? legendItemFocusRing : '',\n          props.class\n        ])}\n        style={{\n          gridRow: props.gridRow,\n          gridColumn: props.gridCol,\n          minWidth: props.minWidth !== undefined ? `${props.minWidth}px` : undefined\n        }}\n        id={id}\n        ref={ref}\n        data-oj-section={sectionIdx}\n        data-oj-item={itemIdx}\n        aria-labelledby={props.labelledBy}\n        role={isHidden != null ? 'menuitemcheckbox' : 'img'}\n        aria-checked={isHidden != null ? !isHidden : undefined}\n        aria-label={props['aria-label'] || text}>\n        <LegendSymbol\n          {...symbolProps}\n          isHidden={isHidden}\n          lineLength={symbolWidth}\n          width={symbolWidth != null ? `${symbolWidth}px` : undefined}\n          height={symbolHeight != null ? `${symbolHeight}px` : undefined}\n        />\n        <LegendText {...textStyles} text={text} type=\"label\" />\n      </div>\n    );\n  }\n);\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\nimport { ItemInfo, LegendItem, LegendSection } from './Legend.type';\nimport { LayoutInfo } from './useLegendLayout';\n\n/**\n * Returns the value of the data-oj-item-index attribute for a given element.\n * @param element The HTML element.\n * @returns\n */\nexport const getItemInfo = (element: HTMLElement) => {\n  const item = element.dataset['ojItem'];\n  const section = element.dataset['ojSection'];\n\n  if (item == null || section == null) {\n    return;\n  }\n  return {\n    itemIdx: Number(item),\n    sectionIdx: Number(section)\n  };\n};\n\n/**\n * Checks if the item is highlighted.\n * @param id Id of the item\n * @param highlighted The set of highlighted item\n */\nexport function isItemHighlighted<K>(id: K, highlighted?: K[]) {\n  if (!highlighted) {\n    return;\n  }\n  if (highlighted.length === 0) {\n    return true;\n  }\n  return new Set(highlighted).has(id);\n}\n\n/**\n * Checks if the item is hidden.\n * @param id Id of the item.\n * @param hiddenIds The set of hidden items.\n * @returns\n */\nexport function isItemHidden<K>(id: K, hiddenIds?: K[]) {\n  if (!hiddenIds) {\n    return;\n  }\n  return new Set(hiddenIds).has(id);\n}\n/**\n * Checks if the item is the currentItem and if the focus ring\n * is visible.\n * @param itemInfo ItemInfo\n * @param itemIdx Item index\n * @param sectionIdx Section index\n */\nexport const hasFocusRing = (itemInfo: ItemInfo, itemIdx: number, sectionIdx?: number) => {\n  if (!itemInfo.isFocusVisible) return false;\n  const { itemIdx: item, sectionIdx: section } = itemInfo;\n\n  if (sectionIdx == null) {\n    return item === itemIdx;\n  }\n  return item === itemIdx && section === sectionIdx;\n};\n\n/**\n * Returns the text for the legend datatip.\n * @param items The legend items data.\n * @param itemInfoRef The item currently hovered.\n * @param currentItem The item that is currently keyboard focused.\n */\nexport function getDatatipText<K>(\n  items: LegendItem<K>[] | LegendSection<K>[],\n  getItem: (\n    itemInfo: ItemInfo,\n    items: LegendItem<K>[] | LegendSection<K>[]\n  ) => LegendItem<K> | undefined,\n  focusedItem: ItemInfo,\n  hoveredItem?: ItemInfo\n) {\n  const isPointerActive = hoveredItem?.isCurrent;\n\n  if (isPointerActive && hoveredItem.itemIdx != null) {\n    return getItem(hoveredItem, items)?.datatip;\n  }\n  if (focusedItem && focusedItem.isCurrent) {\n    return getItem(focusedItem, items)?.datatip;\n  }\n  return;\n}\n\n/**\n * Returns the aria properties for the legend.\n * @param isReadOnly { boolean } If the legend is readonly.\n * @param ariaLabel { string } The aria-label set by the app.\n * @returns The aria props.\n */\nexport function getAriaProps<K>(\n  isReadOnly?: boolean,\n  ariaLabel?: string,\n  hiddenIds?: K[]\n): {\n  'aria-label'?: HTMLAttributesSignalExcluded['aria-label'];\n  'aria-disabled'?: HTMLAttributesSignalExcluded['aria-disabled'];\n  role?: HTMLAttributesSignalExcluded['role'];\n} {\n  const hideAndShow = hiddenIds && !isReadOnly;\n  return {\n    'aria-label': ariaLabel,\n    'aria-disabled': isReadOnly,\n    role: hideAndShow ? 'menu' : 'application'\n  };\n}\n\n/**\n * Gererates randomId used for aria-activedescendant.\n * @returns\n */\nexport function getRandomId() {\n  return `_${Math.random().toString(36).slice(2)}`; //@RandomNumberOK\n}\n\n/**\n * Returns the item props for BaseLegendItem.\n * @param item The legend item.\n * @param itemIdx The item index of the item.\n * @param sectionIdx The section index of section of the item.\n * @param focusedItem The info of currently focused item.\n * @param isReadOnly Whether the legend is readonly.\n * @param hoveredItem The info of the currently hovered item.\n * @param hiddenIds The hidden ids.\n * @param highlightedIds The highlighted ids.\n */\nexport function getItemProps<K>(\n  item: LegendItem<K>,\n  itemIdx: number,\n  sectionIdx: number | undefined,\n  focusedItem: ItemInfo,\n  isReadOnly?: boolean,\n  hoveredItem?: ItemInfo,\n  hiddenIds?: K[],\n  highlightedIds?: K[]\n) {\n  let isCurrent = false;\n  if (!isReadOnly) {\n    const isFocusedItem = itemIdx === focusedItem.itemIdx && sectionIdx === focusedItem.sectionIdx;\n    const isHoveredItem =\n      itemIdx === hoveredItem?.itemIdx && sectionIdx === hoveredItem?.sectionIdx;\n    isCurrent = !!(\n      (isFocusedItem && focusedItem.isCurrent) ||\n      (isHoveredItem && hoveredItem?.isCurrent)\n    );\n  }\n\n  return {\n    isCurrent,\n    isHighlighted: isItemHighlighted(item.id, highlightedIds),\n    isHidden: isItemHidden(item.id, hiddenIds),\n    isFocused: hasFocusRing(focusedItem, itemIdx, sectionIdx),\n    key: item.id,\n    ...item\n  };\n}\n\n/**\n * Compares if two ItemInfo are equal\n * @param item1\n * @param item2\n * @returns\n */\nexport const isEqualItem = (item1?: ItemInfo, item2?: ItemInfo) => {\n  return item1?.itemIdx === item2?.itemIdx && item1?.sectionIdx === item2?.sectionIdx;\n};\n\n/**\n * Returns the num of cols and rows for the legend.\n */\nexport const getGridNums = (numItems: number, layoutInfo?: LayoutInfo) => {\n  let itemsPerRow;\n  let itemsPerCol;\n\n  if (layoutInfo?.isWrapped) {\n    itemsPerRow = layoutInfo.itemsPerRow;\n    itemsPerCol = Math.ceil(numItems / itemsPerRow);\n    itemsPerRow = Math.ceil(numItems / itemsPerCol);\n  }\n\n  return { itemsPerRow, itemsPerCol };\n};\n\n/**\n * Returns the grid row and column for given item.\n * @param noOfItems The number of items in the section.\n * @param index The index of the item.\n * @param itemsPerRow The num of items per row in the grid.\n * @param itemsPerCol The num of items per col in the grid.\n * @returns\n */\nexport function getGridCellIndices(\n  noOfItems: number,\n  index: number,\n  itemsPerRow?: number,\n  itemsPerCol?: number\n) {\n  let gridRow;\n  let gridCol;\n\n  if (itemsPerRow && itemsPerCol && noOfItems > itemsPerRow) {\n    gridRow = (index % itemsPerCol) + 1;\n    gridCol = Math.floor(index / itemsPerCol) + 1;\n  }\n  return { gridRow, gridCol };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { BaseLegendProps, LegendItem } from './Legend.type';\nimport { BaseLegendItem } from './BaseLegendItem';\nimport { getItemProps, getGridCellIndices } from './LegendUtils';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { styles } from './themes/LegendStyles.css';\n\n/**\n * The controlled legend reponsible only for rendering the legend items.\n */\nexport const BaseLegend = <K,>({\n  orientation = 'horizontal',\n  highlightedIds,\n  hiddenIds,\n  focusedItemInfo,\n  hoveredItemInfo,\n  sectionIdx,\n  activeId,\n  isReadOnly,\n  items,\n  symbolHeight,\n  symbolWidth,\n  ...props\n}: BaseLegendProps<K>) => {\n  const isHoriz = orientation === 'horizontal';\n  const isColumnDefined = props.isColumnWidthValidRef.current;\n  const columTemplates =\n    isColumnDefined && isHoriz ? `repeat(${props.itemsPerRow}, ${props.itemWidth})` : undefined;\n  props.isColumnWidthValidRef.current = false;\n  const {\n    baseLegendStyles,\n    baseLegendHorizontal,\n    baseLegendVertical,\n    baseLegendVerticalItem,\n    baseLegendPaddingBottom,\n    baseLegendPaddingTop,\n    baseLegendPaddingEnd\n  } = styles;\n\n  return (\n    <div\n      className={classNames([\n        baseLegendStyles,\n        isHoriz ? baseLegendHorizontal : baseLegendVertical\n      ])}\n      style={{\n        gridTemplateColumns: columTemplates,\n        // set maxWidth to 100% on second render for text truncation to work.\n        maxWidth: isColumnDefined ? '100%' : ''\n      }}>\n      {items.map((item: LegendItem<K>, index: number) => {\n        const itemProps = getItemProps(\n          item,\n          index,\n          sectionIdx,\n          focusedItemInfo,\n          isReadOnly,\n          hoveredItemInfo,\n          hiddenIds,\n          highlightedIds\n        );\n        const isFocusedItem =\n          focusedItemInfo.sectionIdx === sectionIdx && focusedItemInfo.itemIdx === index;\n        const { gridRow, gridCol } = getGridCellIndices(\n          items.length,\n          index,\n          props.itemsPerRow,\n          props.itemsPerCol\n        );\n        const needsBottomSpace = gridRow != null && gridRow != props.itemsPerCol;\n        const needsTopSpace = gridRow != null && gridRow != 1;\n        return (\n          <BaseLegendItem\n            ref={isFocusedItem ? props.focusedItemRef : undefined}\n            itemIdx={index}\n            sectionIdx={sectionIdx}\n            symbolHeight={symbolHeight}\n            symbolWidth={symbolWidth}\n            {...props}\n            {...itemProps}\n            gridRow={gridRow}\n            gridCol={gridCol}\n            minWidth={props.itemWidth}\n            id={itemProps.isCurrent ? activeId : ''}\n            class={classNames([\n              isHoriz ? '' : baseLegendVerticalItem,\n              needsTopSpace ? baseLegendPaddingTop : '',\n              needsBottomSpace ? baseLegendPaddingBottom : '',\n              baseLegendPaddingEnd\n            ])}\n          />\n        );\n      })}\n    </div>\n  );\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useRef, useState } from 'preact/hooks';\nimport { useUser } from '../hooks/UNSAFE_useUser';\nimport { ItemActionDetail, InputDetail, ItemInfo } from './Legend.type';\nimport { getItemInfo, getRandomId, isEqualItem } from './LegendUtils';\n\nexport function useEvents<K>(\n  isInteractive: boolean,\n  isHideShow: boolean,\n  getDetailFromInfo: (info?: ItemInfo) => InputDetail<K>,\n  getPrevItemInfo: (info: ItemInfo) => ItemInfo,\n  getNextItemInfo: (info: ItemInfo) => ItemInfo,\n  onItemAction?: (detail: ItemActionDetail<K>) => void,\n  onInput?: (detail: InputDetail<K>) => void\n) {\n  const [focusedItemInfo, setfocusedItemInfo] = useState<ItemInfo>({\n    itemIdx: 0,\n    sectionIdx: 0\n  });\n  const [hoveredItemInfo, sethoveredItemInfo] = useState<ItemInfo>();\n  const activeId = useRef<string>();\n\n  const { direction } = useUser();\n  const isRtl = direction === 'rtl';\n\n  const cancelEvent = (event: Event) => {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  const hoverHandler = (event: PointerEvent) => {\n    const itemInfo = getItemInfo(event.target as HTMLElement);\n    if (!isEqualItem(itemInfo, hoveredItemInfo)) {\n      sethoveredItemInfo(itemInfo && { ...itemInfo, isCurrent: true });\n      activeId.current = getRandomId();\n      if (isInteractive) {\n        focusedItemInfo ? setfocusedItemInfo({ ...focusedItemInfo, isCurrent: false }) : '';\n        onInput?.(getDetailFromInfo(itemInfo));\n      }\n    }\n  };\n\n  const pointerLeaveHandler = () => {\n    sethoveredItemInfo(undefined);\n    activeId.current = undefined;\n    if (isInteractive) {\n      onInput?.(getDetailFromInfo());\n    }\n  };\n\n  if (!isInteractive) {\n    return {\n      focusedItemInfo,\n      hoveredItemInfo,\n      // include pointer leave and pointer move for datatip\n      onPointerLeave: pointerLeaveHandler,\n      onPointerMove: hoverHandler\n    };\n  }\n\n  const updatefocusedItemInfo = (itemInfo: ItemInfo) => {\n    onInput?.(getDetailFromInfo(itemInfo));\n    activeId.current = getRandomId();\n    setfocusedItemInfo(itemInfo);\n  };\n\n  const handleKeyboardInput = (item: ItemInfo) => {\n    if (!isEqualItem(item, focusedItemInfo)) {\n      item.isCurrent = true;\n      item.isFocusVisible = true;\n      if (hoveredItemInfo) {\n        sethoveredItemInfo({ ...hoveredItemInfo, isCurrent: false });\n      }\n      updatefocusedItemInfo(item);\n    }\n  };\n\n  const triggerOnAction = () => {\n    const { sectionId, itemId } = getDetailFromInfo(focusedItemInfo);\n    if (itemId != null) {\n      onItemAction?.({ sectionId, itemId });\n      activeId.current = getRandomId();\n    }\n  };\n\n  const pointerUpHandler = (event: PointerEvent) => {\n    const itemInfo = getItemInfo(event.target as HTMLElement);\n    if (itemInfo != null) {\n      setfocusedItemInfo(itemInfo);\n      const { sectionId, itemId } = getDetailFromInfo(itemInfo);\n      if (itemId != null) {\n        onItemAction?.({ sectionId, itemId });\n        activeId.current = getRandomId();\n      }\n    }\n  };\n\n  const keyDownHandler = (event: KeyboardEvent) => {\n    const key = event.key;\n    switch (key) {\n      case 'Tab':\n        return;\n      case 'ArrowDown': {\n        const nextItemInfo = getNextItemInfo(focusedItemInfo);\n        handleKeyboardInput(nextItemInfo);\n        break;\n      }\n      case 'ArrowUp': {\n        const nextItemInfo = getPrevItemInfo(focusedItemInfo);\n        handleKeyboardInput(nextItemInfo);\n        break;\n      }\n      case 'ArrowRight': {\n        const nextItemInfo = isRtl\n          ? getPrevItemInfo(focusedItemInfo)\n          : getNextItemInfo(focusedItemInfo);\n        handleKeyboardInput(nextItemInfo);\n        break;\n      }\n      case 'ArrowLeft': {\n        const nextItemInfo = isRtl\n          ? getNextItemInfo(focusedItemInfo)\n          : getPrevItemInfo(focusedItemInfo);\n        handleKeyboardInput(nextItemInfo);\n        break;\n      }\n    }\n    cancelEvent(event);\n  };\n\n  const keyUpHandler = (event: KeyboardEvent) => {\n    const key = event.code;\n    switch (key) {\n      case 'Space': {\n        if (isHideShow) {\n          triggerOnAction();\n        }\n        break;\n      }\n      case 'Enter': {\n        triggerOnAction();\n        break;\n      }\n      case 'Home': {\n        updatefocusedItemInfo({\n          itemIdx: 0,\n          sectionIdx: 0,\n          isFocusVisible: true,\n          isCurrent: true\n        });\n        break;\n      }\n      case 'End': {\n        updatefocusedItemInfo({\n          itemIdx: -1,\n          sectionIdx: -1,\n          isCurrent: true,\n          isFocusVisible: true\n        });\n        break;\n      }\n      case 'Tab': {\n        updatefocusedItemInfo({\n          ...focusedItemInfo,\n          isCurrent: true,\n          isFocusVisible: true\n        });\n        break;\n      }\n    }\n  };\n\n  const blurHandler = () => {\n    const itemInfo = { ...focusedItemInfo, isCurrent: false, isFocusVisible: false };\n    if (hoveredItemInfo != null || focusedItemInfo.isCurrent) {\n      onInput?.(getDetailFromInfo(undefined));\n    }\n    setfocusedItemInfo(itemInfo);\n  };\n\n  return {\n    focusedItemInfo,\n    hoveredItemInfo,\n    'aria-activedescendant': activeId.current,\n    onPointerUp: pointerUpHandler,\n    onPointerMove: hoverHandler,\n    onKeyUp: keyUpHandler,\n    onKeyDown: keyDownHandler,\n    onPointerLeave: pointerLeaveHandler,\n    onBlur: blurHandler\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { InputDetail, ItemInfo, LegendItem } from './Legend.type';\n\nfunction getItem<K>(itemInfo: ItemInfo, items: LegendItem<K>[]) {\n  const { itemIdx } = itemInfo;\n\n  if (itemIdx == -1) {\n    return items[items.length - 1];\n  }\n  return items[itemIdx];\n}\n\nfunction getNextItemInfo<K>(itemInfo: ItemInfo, items: LegendItem<K>[]) {\n  let itemIdx = itemInfo.itemIdx;\n\n  if (itemInfo.itemIdx == -1) {\n    itemIdx = items.length - 1;\n  }\n\n  itemIdx = Math.min(items.length - 1, itemIdx + 1);\n\n  return { sectionIdx: 0, itemIdx };\n}\n\nfunction getPrevItemInfo<K>(itemInfo: ItemInfo, items: LegendItem<K>[]) {\n  let itemIdx = itemInfo.itemIdx;\n\n  if (itemInfo.itemIdx == -1) {\n    itemIdx = items.length - 1;\n  }\n\n  itemIdx = Math.max(0, itemIdx - 1);\n  return { sectionIdx: 0, itemIdx };\n}\n\n/**\n * Returns utils functions for navigation in simple legend.\n * @param items\n * @returns\n */\nexport function getLegendNavUtils<K>(items: LegendItem<K>[]) {\n  return {\n    getItem: (itemInfo: ItemInfo) => {\n      return getItem(itemInfo, items);\n    },\n    getDetailFromInfo: (itemInfo?: ItemInfo): InputDetail<K> => {\n      if (!itemInfo) {\n        return { itemId: undefined };\n      }\n      const item = getItem(itemInfo, items);\n      return { itemId: item.id };\n    },\n    getPrevItemInfo: (itemInfo: ItemInfo) => {\n      return getPrevItemInfo(itemInfo, items);\n    },\n    getNextItemInfo: (itemInfo: ItemInfo) => {\n      return getNextItemInfo(itemInfo, items);\n    }\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { MutableRef, Ref, useLayoutEffect, useState } from 'preact/hooks';\nimport { useTooltipControlled } from '../hooks/UNSAFE_useTooltip';\nimport { ItemInfo } from './Legend.type';\nimport { useUser } from '../hooks/UNSAFE_useUser';\n\ntype props = {\n  text?: string;\n  rootDimsRef: MutableRef<DOMRect | undefined>;\n  focusedItemRef: Ref<HTMLDivElement>;\n  focusedItemInfo: ItemInfo;\n};\n\nconst DEFAULT_OFFSET = 8;\n\n/**\n * Calculate the datatip offset for datatip when keyboard focus is active.\n * @param focusedItemRef The ref for currentItem node.\n * @param rootRef The ref for root of the legend.\n * @param currentItem The ItemInfo of the current keyboard focused item.\n * @returns\n */\nconst calculateOffset = (\n  focusedItemRef: Ref<HTMLDivElement>,\n  rootDimsRef: MutableRef<DOMRect | undefined>,\n  currentItem: ItemInfo,\n  isRtl: boolean\n) => {\n  let crossAxis = 0;\n  let mainAxisOffset = DEFAULT_OFFSET;\n  if (focusedItemRef.current && currentItem.isCurrent && rootDimsRef.current) {\n    const rootDim = rootDimsRef.current;\n    const itemDim = focusedItemRef.current.getBoundingClientRect();\n    crossAxis = itemDim.x + itemDim.width / 2 - (rootDim.x + rootDim.width / 2);\n    crossAxis = isRtl ? -1 * crossAxis : crossAxis;\n    mainAxisOffset += rootDim.y - itemDim.y;\n    mainAxisOffset = Math.min(\n      DEFAULT_OFFSET,\n      Math.max(mainAxisOffset, itemDim.height - rootDim.height + DEFAULT_OFFSET)\n    );\n  }\n  return { crossAxis, mainAxis: mainAxisOffset };\n};\n\nexport const useLegendTooltip = ({ text, rootDimsRef, focusedItemRef, focusedItemInfo }: props) => {\n  const { direction } = useUser();\n  const isRtl = direction === 'rtl';\n  const [offset, setOffset] = useState<{ mainAxis?: number; crossAxis?: number }>(\n    calculateOffset(focusedItemRef, rootDimsRef, focusedItemInfo, isRtl)\n  );\n\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n\n  useLayoutEffect(() => {\n    setOffset(calculateOffset(focusedItemRef, rootDimsRef, focusedItemInfo, isRtl));\n  }, [focusedItemInfo]);\n\n  const anchor = focusedItemInfo?.isCurrent ? 'element' : 'pointer';\n  const { tooltipContent, tooltipProps } = useTooltipControlled({\n    text: text,\n    position: 'top',\n    isDisabled: false,\n    variant: 'datatip',\n    anchor: { x: anchor, y: anchor },\n    offset: offset,\n    isOpen,\n    onToggle: ({ value }) => setIsOpen(value)\n  });\n\n  return { tooltipContent, tooltipProps };\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useEffect, useRef } from 'preact/hooks';\nimport { ItemInfo } from './Legend.type';\n\n/**\n * Hook to track focus item ref and ensure focus item is always\n * in view.\n */\nexport function useItemFocus(focusedItem: ItemInfo) {\n  const focusedItemRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (focusedItem.isFocusVisible) {\n      focusedItemRef.current?.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [focusedItem]);\n\n  return { focusedItemRef };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { RefObject } from 'preact';\nimport { LegendItem, LegendSection } from './Legend.type';\nimport { useLayoutEffect, useRef, useState } from 'preact/hooks';\n\n/**\n * Checks if two layout infos are equal.\n */\nconst areEqualLayoutInfo = function (info1: LayoutInfo[], info2: LayoutInfo[]) {\n  return (\n    info1.length === info2.length &&\n    info1.every(\n      (value, index) =>\n        value.isWrapped === info2[index].isWrapped &&\n        value.maxItemWidth === info2[index].maxItemWidth &&\n        info1[index].itemsPerRow === info2[index].itemsPerRow\n    )\n  );\n};\n\ntype Props<K> = {\n  items: LegendItem<K>[] | LegendSection<K>[];\n  rootRef: RefObject<HTMLDivElement>;\n  rootDimsRef: RefObject<DOMRect | undefined>;\n  isSectional?: boolean;\n  orientation?: 'vertical' | 'horizontal';\n};\n\nexport type LayoutInfo = {\n  isWrapped: boolean;\n  maxItemWidth: number;\n  itemsPerRow: number;\n};\n\n/**\n * Returns maximum of the width among the items section of legend.\n * @param legend BaseLegend element\n * @returns\n */\nconst getMaxWidth = (baseLegend: HTMLElement) => {\n  let maxItemWidth = 0;\n  [...baseLegend.children].forEach((e) => {\n    const item = e as HTMLElement;\n    maxItemWidth = Math.max(maxItemWidth, Math.ceil(item.getBoundingClientRect().width));\n  });\n\n  return maxItemWidth;\n};\n\nexport function useLegendLayout<K>({\n  items,\n  rootRef,\n  rootDimsRef,\n  isSectional = false,\n  orientation\n}: Props<K>) {\n  const [layoutInfo, setLayoutInfo] = useState<LayoutInfo[]>([]);\n  const isColumnWidthValidRef = useRef(false);\n  const previousOrientationRef = useRef(orientation);\n  useLayoutEffect(() => {\n    if (!rootRef.current) {\n      return;\n    }\n    // recalculate rootDims everytime items change.\n    rootDimsRef.current = rootRef.current.getBoundingClientRect();\n    previousOrientationRef.current = orientation;\n    const legendLayoutInfo: LayoutInfo[] = [];\n    const rootElement = isSectional ? rootRef.current.children[0] : rootRef.current;\n    [...rootElement.children].forEach((section: Element) => {\n      const sectionWidth = (section as HTMLElement).getBoundingClientRect().width;\n      const baseLegend = isSectional ? section.children[section.childElementCount - 1] : section;\n      let isWrapped = sectionWidth > rootDimsRef.current?.width!;\n      if (baseLegend.childElementCount > 0 && sectionWidth === rootDimsRef.current?.width!) {\n        // If text is trucated, sectionwidth and rootWidth are equal but legend section could still be wrapped.\n        // compare offsetTop with last item to determine wrapping. For sectional legend, check the section div (title + baselegend)\n        // offsetTop with the offsetTop of the last element to determine if they are not in the same level (i.e wrapped)\n        isWrapped =\n          (!isSectional &&\n            (baseLegend.children[baseLegend.childElementCount - 1] as HTMLElement).offsetTop >\n              (baseLegend.children[0] as HTMLElement).offsetTop) ||\n          (isSectional &&\n            (baseLegend.children[baseLegend.childElementCount - 1] as HTMLElement).offsetTop >\n              (section as HTMLElement).offsetTop);\n      }\n      const maxItemWidth = getMaxWidth(baseLegend as HTMLElement);\n      legendLayoutInfo.push({\n        maxItemWidth: Math.min(maxItemWidth, rootDimsRef.current?.width!),\n        itemsPerRow: Math.max(1, Math.floor(rootDimsRef.current?.width! / maxItemWidth)),\n        isWrapped\n      });\n    });\n\n    if (!areEqualLayoutInfo(layoutInfo, legendLayoutInfo)) {\n      isColumnWidthValidRef.current = true;\n      setLayoutInfo(legendLayoutInfo);\n    }\n  }, [items, orientation]);\n\n  return {\n    layoutInfo: previousOrientationRef.current != orientation ? [] : layoutInfo,\n    isColumnWidthValidRef\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useRef } from 'preact/hooks';\nimport { BaseLegend } from './BaseLegend';\nimport { useEvents } from './useEvents';\nimport { LegendProps } from './Legend.type';\nimport { getLegendNavUtils } from './LegendNavUtils';\nimport { getAriaProps, getDatatipText, getGridNums } from './LegendUtils';\nimport { mergeProps } from '../utils/UNSAFE_mergeProps';\nimport { useLegendTooltip } from './useLegendTooltip';\nimport { useItemFocus } from './useItemFocus';\nimport { useLegendLayout } from './useLegendLayout';\nimport { styles } from './themes/LegendStyles.css';\n\n/**\n * A legend displays an interactive description of symbols, colors, etc., used in graphical information representations.\n */\nexport function Legend<K extends string | number>({\n  orientation = 'horizontal',\n  items,\n  isReadOnly = true,\n  onItemAction,\n  onInput,\n  ...props\n}: LegendProps<K>) {\n  const rootRef = useRef<HTMLDivElement>(null);\n  const rootDimsRef = useRef<DOMRect>();\n\n  const { getItem, getDetailFromInfo, getPrevItemInfo, getNextItemInfo } = getLegendNavUtils(items);\n\n  const { layoutInfo, isColumnWidthValidRef } = useLegendLayout({\n    rootRef,\n    rootDimsRef,\n    items,\n    orientation\n  });\n\n  const { hoveredItemInfo, focusedItemInfo, ...eventsProps } = useEvents<K>(\n    !isReadOnly,\n    props.hiddenIds != null,\n    getDetailFromInfo,\n    getPrevItemInfo,\n    getNextItemInfo,\n    onItemAction,\n    onInput\n  );\n\n  const { focusedItemRef } = useItemFocus(focusedItemInfo);\n  const datatipText = getDatatipText(items, getItem, focusedItemInfo, hoveredItemInfo);\n  const { tooltipContent, tooltipProps } = useLegendTooltip({\n    text: datatipText,\n    rootDimsRef,\n    focusedItemInfo,\n    focusedItemRef\n  });\n\n  const ariaProps = getAriaProps(isReadOnly, props['aria-label'], props.hiddenIds);\n  const mergedProps = mergeProps(eventsProps, tooltipProps);\n  const { itemsPerCol, itemsPerRow } = getGridNums(items.length, layoutInfo[0]);\n  const { legendStyle } = styles;\n\n  return (\n    <div\n      ref={rootRef}\n      tabIndex={isReadOnly ? undefined : 0}\n      class={legendStyle}\n      {...ariaProps}\n      {...mergedProps}>\n      <BaseLegend\n        {...props}\n        focusedItemRef={focusedItemRef}\n        items={items}\n        isReadOnly={isReadOnly}\n        orientation={orientation}\n        sectionIdx={0}\n        itemsPerRow={itemsPerRow}\n        isColumnWidthValidRef={isColumnWidthValidRef}\n        itemsPerCol={itemsPerCol}\n        itemWidth={layoutInfo[0]?.isWrapped ? layoutInfo[0]?.maxItemWidth : undefined}\n        focusedItemInfo={focusedItemInfo}\n        hoveredItemInfo={hoveredItemInfo}\n        activeId={eventsProps['aria-activedescendant']}\n      />\n      {tooltipContent}\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { InputDetail, ItemInfo, LegendSection } from './Legend.type';\n\nfunction getItem<K>(itemInfo: ItemInfo, sections: LegendSection<K>[]) {\n  const { sectionIdx, itemIdx } = itemInfo;\n\n  if (sectionIdx == -1 && itemIdx == -1) {\n    const itemsLength = sections[sections.length - 1].items.length;\n    return sections[sections.length - 1].items[itemsLength - 1];\n  }\n\n  return sections[sectionIdx].items[itemIdx];\n}\n\nfunction getNextItemInfo<K>(itemInfo: ItemInfo, sections: LegendSection<K>[]) {\n  let { itemIdx, sectionIdx } = itemInfo;\n\n  if (sectionIdx == -1 && itemIdx == -1) {\n    return {\n      itemIdx: sections[sections.length - 1].items.length - 1,\n      sectionIdx: sections.length - 1\n    };\n  }\n\n  itemIdx += 1;\n  const itemsLength = sections[sectionIdx].items.length;\n  if (itemIdx >= itemsLength) {\n    if (sectionIdx === sections.length - 1) {\n      itemIdx = itemInfo.itemIdx;\n    } else {\n      sectionIdx += 1;\n      itemIdx = 0;\n    }\n  }\n  return { itemIdx, sectionIdx };\n}\n\nfunction getPrevItemInfo<K>(itemInfo: ItemInfo, sections: LegendSection<K>[]) {\n  let { itemIdx, sectionIdx } = itemInfo;\n\n  if (sectionIdx == -1 && itemIdx == -1) {\n    (itemIdx = sections[sections.length - 1].items.length - 1), (sectionIdx = sections.length - 1);\n  }\n  itemIdx -= 1;\n\n  if (itemIdx < 0) {\n    if (sectionIdx === 0) {\n      itemIdx = 0;\n    } else {\n      itemIdx = sections[sectionIdx - 1].items.length - 1;\n      sectionIdx -= 1;\n    }\n  }\n  return { itemIdx, sectionIdx };\n}\n\n/**\n * Returns utils functions for navigation in simple sectional legend.\n * @param items\n * @returns\n */\nexport function getSectionalNavUtils<K>(sections: LegendSection<K>[]) {\n  return {\n    getItem: (itemInfo: ItemInfo) => {\n      return getItem(itemInfo, sections);\n    },\n    getDetailFromInfo: (itemInfo?: ItemInfo): InputDetail<K> => {\n      if (!itemInfo) {\n        return { itemId: undefined, sectionId: undefined };\n      }\n      const item = getItem(itemInfo, sections);\n      const sectionId = sections[itemInfo.sectionIdx].id;\n      return { itemId: item.id, sectionId: sectionId };\n    },\n    getPrevItemInfo: (itemInfo: ItemInfo) => {\n      return getPrevItemInfo(itemInfo, sections);\n    },\n    getNextItemInfo: (itemInfo: ItemInfo) => {\n      return getNextItemInfo(itemInfo, sections);\n    }\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useRef } from 'preact/hooks';\nimport { BaseLegend } from './BaseLegend';\nimport { useEvents } from './useEvents';\nimport { LegendSection, SectionalLegendProps } from './Legend.type';\nimport { getSectionalNavUtils } from './SectionalLegendNavUtils';\nimport { mergeProps } from '../utils/UNSAFE_mergeProps';\nimport { getDatatipText, getAriaProps, getRandomId, getGridNums } from './LegendUtils';\nimport { useLegendTooltip } from './useLegendTooltip';\nimport { LegendText } from './LegendText';\nimport { useItemFocus } from './useItemFocus';\nimport { useLegendLayout } from './useLegendLayout';\nimport { Flex } from '../UNSAFE_Flex';\nimport { styles } from './themes/LegendStyles.css';\n\n/**\n * A Sectional Legend allows grouping of legend items in sections with a specific title.\n */\nexport function SectionalLegend<K extends string | number>({\n  orientation = 'horizontal',\n  sectionTitleHAlign = 'start',\n  sections,\n  isReadOnly = true,\n  onItemAction,\n  onInput,\n  ...props\n}: SectionalLegendProps<K>) {\n  const rootRef = useRef<HTMLDivElement>(null);\n  const rootDimsRef = useRef<DOMRect>();\n\n  const { getItem, getDetailFromInfo, getPrevItemInfo, getNextItemInfo } =\n    getSectionalNavUtils(sections);\n\n  const { layoutInfo, isColumnWidthValidRef } = useLegendLayout({\n    rootRef,\n    rootDimsRef,\n    items: sections,\n    isSectional: true,\n    orientation\n  });\n  const { focusedItemInfo, hoveredItemInfo, ...eventsProps } = useEvents(\n    !isReadOnly,\n    props.hiddenIds != null,\n    getDetailFromInfo,\n    getPrevItemInfo,\n    getNextItemInfo,\n    onItemAction,\n    onInput\n  );\n\n  const { focusedItemRef } = useItemFocus(focusedItemInfo);\n  const text = getDatatipText(sections, getItem, focusedItemInfo, hoveredItemInfo);\n  const { tooltipContent, tooltipProps } = useLegendTooltip({\n    text,\n    rootDimsRef,\n    focusedItemInfo,\n    focusedItemRef\n  });\n  const ariaProps = getAriaProps(isReadOnly, props['aria-label'], props.hiddenIds);\n  const mergedProps = mergeProps(eventsProps, tooltipProps);\n  const titleStyle = {\n    fontFamily: props.sectionTitleFontFamily,\n    fontSize: props.sectionTitleFontSize,\n    color: props.sectionTitleColor,\n    fontStyle: props.sectionTitleFontStyle,\n    fontWeight: props.sectionTitleFontWeight,\n    textDecoration: props.sectionTitleTextDecoration\n  };\n  const { sectionalLegendBaseStyles } = styles;\n  const isHoriz = orientation === 'horizontal';\n\n  return (\n    <div\n      ref={rootRef}\n      tabIndex={isReadOnly ? undefined : 0}\n      class={sectionalLegendBaseStyles}\n      {...ariaProps}\n      {...mergedProps}>\n      <Flex direction={isHoriz ? 'row' : 'column'} wrap={'wrap'} gap={'2.3x'}>\n        {sections.map((section: LegendSection<K>, index: number) => {\n          const labelledById = !isReadOnly ? getRandomId() : '';\n          const isWrappedSection = layoutInfo[index]?.isWrapped;\n          const flexDirection = !isHoriz || isWrappedSection ? 'column' : 'row';\n          const alignItems = !isHoriz || isWrappedSection ? 'start' : 'center';\n          const { itemsPerCol, itemsPerRow } = getGridNums(section.items.length, layoutInfo[index]);\n          return (\n            <Flex\n              align={alignItems}\n              direction={flexDirection}\n              maxWidth={'100%'}\n              justify={'start'}\n              wrap=\"wrap\">\n              <LegendText\n                text={section.title}\n                {...titleStyle}\n                type=\"title\"\n                id={labelledById}\n                align={sectionTitleHAlign}\n              />\n              <BaseLegend\n                {...props}\n                isColumnWidthValidRef={isColumnWidthValidRef}\n                focusedItemRef={focusedItemRef}\n                labelledBy={labelledById}\n                sectionIdx={index}\n                items={section.items}\n                orientation={orientation}\n                itemsPerRow={itemsPerRow}\n                itemsPerCol={itemsPerCol}\n                itemWidth={\n                  layoutInfo[index]?.isWrapped ? layoutInfo[index]?.maxItemWidth : undefined\n                }\n                isReadOnly={isReadOnly}\n                focusedItemInfo={focusedItemInfo}\n                hoveredItemInfo={hoveredItemInfo}\n                activeId={eventsProps['aria-activedescendant']}\n              />\n            </Flex>\n          );\n        })}\n      </Flex>\n      {tooltipContent}\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nexport { Legend } from './Legend';\nexport { SectionalLegend } from './SectionalLegend';\n"],"names":["styles","_jsx","SvgSymbol","classNames","Text","forwardRef","_jsxs","useState","useRef","useUser","getItem","getNextItemInfo","getPrevItemInfo","useLayoutEffect","useTooltipControlled","useEffect","mergeProps","Flex"],"mappings":"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"}