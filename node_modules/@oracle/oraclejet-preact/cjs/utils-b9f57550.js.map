{"version":3,"file":"utils-b9f57550.js","sources":["../../src/UNSAFE_Theme/utils.ts"],"sourcesContent":["import type { CSSVarFunction } from '@vanilla-extract/private';\nimport { scaleVars } from '../Common/themes/themeContract.css';\n\n// Added: new types\ntype RGBType = `rgb(${CSSVarFunction})`;\ntype RGBAType = `rgba(${CSSVarFunction}, ${number})`;\n\nconst rgb = (rgb: CSSVarFunction): RGBType => `rgb(${rgb})`;\nconst rgba = (rgb: CSSVarFunction, alpha: number): RGBAType => `rgba(${rgb}, ${alpha})`;\n\n// JET-59344 refactor of 'fallbackVar' from '@vanilla-extract/css'.\n// directly importing the function was causing vanilla-extract to be bundled into\n// the preact packages and causing issues with testing\nconst fallbackVar = (...values: [string, ...Array<string>]): CSSVarFunction => {\n  const finalValue = values.reverse().reduce((acc: string, value: string) => {\n    if (acc === '') {\n      acc = String(value);\n    } else {\n      if (typeof value !== 'string' || !/^var\\(--.*\\)$/.test(value)) {\n        throw new Error(`Invalid variable name: ${value}`);\n      }\n\n      acc = value.replace(/\\)$/, `, ${acc})`);\n    }\n    return acc;\n  }, '');\n\n  return finalValue as CSSVarFunction;\n};\n\n// MessageBanner is used by legacy oj-message-banner, so we need to fallback the size units\n// var to the legacy CSS var\nconst xUnits = (cnt: number): string =>\n  cnt === 1\n    ? fallbackVar(scaleVars.size.units, 'var(--oj-core-spacing-1x)')\n    : `calc(${cnt} * ${fallbackVar(scaleVars.size.units, 'var(--oj-core-spacing-1x)')})`;\n\nconst min = (val: string, minVal: string): string => `min(${val},${minVal})`;\nconst max = (val: string, minVal: string): string => `max(${val},${minVal})`;\n\nexport { rgb, rgba, xUnits, fallbackVar, min, max };\n\nexport type { RGBType, RGBAType };\n"],"names":["scaleVars"],"mappings":";;;;;AAOM,MAAA,GAAG,GAAG,CAAC,GAAmB,KAAc,CAAA,IAAA,EAAO,GAAG,CAAA,CAAA,EAAI;AAC5D,MAAM,IAAI,GAAG,CAAC,GAAmB,EAAE,KAAa,KAAe,CAAQ,KAAA,EAAA,GAAG,CAAK,EAAA,EAAA,KAAK,IAAI;AAExF;AACA;AACA;AACA,MAAM,WAAW,GAAG,CAAC,GAAG,MAAkC,KAAoB;AAC5E,IAAA,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC,GAAW,EAAE,KAAa,KAAI;QACxE,IAAI,GAAG,KAAK,EAAE,EAAE;AACd,YAAA,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AACrB,SAAA;AAAM,aAAA;AACL,YAAA,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AAC7D,gBAAA,MAAM,IAAI,KAAK,CAAC,0BAA0B,KAAK,CAAA,CAAE,CAAC,CAAC;AACpD,aAAA;YAED,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,CAAK,EAAA,EAAA,GAAG,CAAG,CAAA,CAAA,CAAC,CAAC;AACzC,SAAA;AACD,QAAA,OAAO,GAAG,CAAC;KACZ,EAAE,EAAE,CAAC,CAAC;AAEP,IAAA,OAAO,UAA4B,CAAC;AACtC,EAAE;AAEF;AACA;AACM,MAAA,MAAM,GAAG,CAAC,GAAW,KACzB,GAAG,KAAK,CAAC;MACL,WAAW,CAACA,yCAAS,CAAC,IAAI,CAAC,KAAK,EAAE,2BAA2B,CAAC;AAChE,MAAE,CAAA,KAAA,EAAQ,GAAG,CAAA,GAAA,EAAM,WAAW,CAACA,yCAAS,CAAC,IAAI,CAAC,KAAK,EAAE,2BAA2B,CAAC,IAAI;AAEzF,MAAM,GAAG,GAAG,CAAC,GAAW,EAAE,MAAc,KAAa,CAAO,IAAA,EAAA,GAAG,CAAI,CAAA,EAAA,MAAM,IAAI;AAC7E,MAAM,GAAG,GAAG,CAAC,GAAW,EAAE,MAAc,KAAa,CAAO,IAAA,EAAA,GAAG,CAAI,CAAA,EAAA,MAAM;;;;;;;;;"}