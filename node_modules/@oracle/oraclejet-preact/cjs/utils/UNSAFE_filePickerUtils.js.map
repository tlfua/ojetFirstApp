{"version":3,"file":"UNSAFE_filePickerUtils.js","sources":["../../../src/utils/UNSAFE_filePickerUtils/filePickerUtils.ts","../../../src/utils/UNSAFE_filePickerUtils/index.ts"],"sourcesContent":["// Contains utility functions intended to be used to pick files\n\nexport type FileOptions = {\n  accept?: Array<string>;\n  capture?: 'user' | 'environment' | 'implementation' | 'none';\n  selectionMode?: 'single' | 'multiple';\n};\n\nexport function pickFiles(\n  callback: (files: FileList) => void,\n  { accept = [], capture = 'none', selectionMode = 'single' }: FileOptions\n) {\n  const input = createInput({ accept, capture, selectionMode });\n\n  input.addEventListener(\n    'change',\n    () => {\n      callback(input.files as FileList);\n    },\n    { once: true }\n  );\n\n  input.click();\n}\n\nconst createInput = (fileOptions: Required<FileOptions>) => {\n  const input = document.createElement('input');\n  input.type = 'file';\n  if (fileOptions?.capture && fileOptions.capture != 'none') {\n    input.capture = fileOptions.capture;\n  }\n  input.accept = fileOptions.accept.join(',');\n  input.multiple = fileOptions.selectionMode === 'multiple';\n  input.style.display = 'none';\n  return input;\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nexport { pickFiles, FileOptions } from './filePickerUtils';\n"],"names":[],"mappings":";;;;;AAAA;SAQgB,SAAS,CACvB,QAAmC,EACnC,EAAE,MAAM,GAAG,EAAE,EAAE,OAAO,GAAG,MAAM,EAAE,aAAa,GAAG,QAAQ,EAAe,EAAA;AAExE,IAAA,MAAM,KAAK,GAAG,WAAW,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC;AAE9D,IAAA,KAAK,CAAC,gBAAgB,CACpB,QAAQ,EACR,MAAK;AACH,QAAA,QAAQ,CAAC,KAAK,CAAC,KAAiB,CAAC,CAAC;AACpC,KAAC,EACD,EAAE,IAAI,EAAE,IAAI,EAAE,CACf,CAAC;IAEF,KAAK,CAAC,KAAK,EAAE,CAAC;AAChB,CAAC;AAED,MAAM,WAAW,GAAG,CAAC,WAAkC,KAAI;IACzD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,IAAA,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;IACpB,IAAI,WAAW,EAAE,OAAO,IAAI,WAAW,CAAC,OAAO,IAAI,MAAM,EAAE;AACzD,QAAA,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;AACrC,KAAA;IACD,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC,aAAa,KAAK,UAAU,CAAC;AAC1D,IAAA,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAC7B,IAAA,OAAO,KAAK,CAAC;AACf,CAAC;;ACnCD;;;;;;AAMG;;;;"}