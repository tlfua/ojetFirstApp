var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};define("oj-c/collapsible/collapsible",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","@oracle/oraclejet-preact/UNSAFE_Collapsible","ojs/ojvcomponent","preact/hooks","ojs/ojcontext","css!oj-c/collapsible/collapsible-styles.css"],(function(require,e,t,o,a,l,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Collapsible=void 0,o=__importDefault(o),r=__importDefault(r),e.Collapsible=(0,l.registerCustomElement)("oj-c-collapsible",(e=>{const{id:o,children:i,disabled:s,expanded:c,iconPosition:d,variant:u,header:p}=e,b=(0,n.useRef)(null),j=(0,n.useRef)(!1),f=(0,n.useRef)(),_=(0,n.useCallback)((e=>r.default.getContext(b.current).getBusyContext()?.addBusyState({description:`oj-c-collapsible: id='${o}' is ${e}.`})),[]);(0,n.useEffect)((()=>{j.current?(f.current&&f.current(),f.current=_("animating")):j.current=!0}),[c]);return(0,t.jsx)(l.Root,{id:o,ref:b,children:(0,t.jsx)(a.Collapsible,{header:p,iconPosition:d,variant:u,isExpanded:c,isDisabled:s,onToggle:async t=>{let o=t.target;for(;o&&o!==b?.current;o=o.parentElement)if("disabled"===o.getAttribute("data-oj-clickthrough"))return;const a=t.value?e.onOjBeforeExpand:e.onOjBeforeCollapse;try{await(a?.(t)),e.onExpandedChanged?.(t.value)}catch(e){}},onTransitionEnd:t=>{(t.value?e.onOjExpand:e.onOjCollapse)?.(t),f.current&&(f.current(),f.current=void 0)},children:i})})}),"Collapsible",{slots:{"":{},header:{}},properties:{disabled:{type:"boolean"},expanded:{type:"boolean",writeback:!0},iconPosition:{type:"string",enumValues:["start","end"]},variant:{type:"string",enumValues:["basic","horizontal-rule"]}},events:{ojBeforeCollapse:{cancelable:!0},ojBeforeExpand:{cancelable:!0},ojCollapse:{},ojExpand:{}},extension:{_WRITEBACK_PROPS:["expanded"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["id"]}},void 0,{"@oracle/oraclejet-preact":o.default})}));
//# sourceMappingURL=collapsible.js.map