define(['exports', 'preact/jsx-runtime', './utils/UNSAFE_size', './utils/UNSAFE_classNames', './utils/UNSAFE_mergeProps', 'preact/hooks', './hooks/UNSAFE_useUser', './hooks/PRIVATE_useDvtMeterEvents', './utils/PRIVATE_meterUtils', './PRIVATE_Meter', './utils/UNSAFE_dvtCommonUtils', './UNSAFE_MeterBar/themes/MeterBarStyles.css', './classNames-711dac8e', './hooks/UNSAFE_useTabbableMode', './hooks/UNSAFE_useComponentTheme', './UNSAFE_MeterBar/themes/redwood/MeterBarTheme', './UNSAFE_Theme', './utils-7a8b0c59', './Common/themes/themeContract.css', './index-182af2cd', 'preact', './Common', './Common/themes', './Common/themes/redwood/theme', 'preact/compat', './hooks/UNSAFE_useTooltip', './hooks/UNSAFE_useId', './UNSAFE_Floating', './Floating-86f9017c', './index-f653d9ca', './utils/PRIVATE_floatingUtils', './utils/PRIVATE_refUtils', './hooks/UNSAFE_useOutsideClick', './utils/UNSAFE_arrayUtils', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-9d536a1b', './vanilla-extract-dynamic.esm-acef6fab', './UNSAFE_Floating/themes/FloatingContract.css', './utils/UNSAFE_logger', './_curry1-ce36c4e7', './_curry2-d90c5517', './UNSAFE_Layer', './useThemeInterpolations-48286702', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './utils/UNSAFE_mergeInterpolations', './_curry3-4fb0ed44', './_has-580e26f1', './hooks/UNSAFE_useHover', './hooks/UNSAFE_useToggle', './hooks/UNSAFE_useFocus', './hooks/UNSAFE_useTouch', './hooks/UNSAFE_useAnimation', './useAnimation-95b1d0bd', './hooks/UNSAFE_useThemeInterpolations', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', 'css!./TooltipContentStyles.styles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./TooltipContentVariants.styles2.css', 'css!./MeterBarStyles.styles.css', './UNSAFE_MeterBar/themes/redwood/MeterBarBaseTheme.css', 'module', './UNSAFE_MeterBar/themes/redwood/MeterBarVariants.css', 'css!./MeterBarVariants.styles.css'], (function(e,t,s,o,r,a,n,i,l,c,h,d,u,m,S,y,F,p,T,g,_,E,A,U,N,k,f,C,b,B,x,M,v,w,V,z,I,R,L,j,P,H,D,O,K,X,Y,q,G,J,Q,W,Z,$,ee,te,se,oe,re,ae,ne,ie,le,ce,he,de,ue,me,Se,ye,Fe,pe,Te){"use strict";function ge(e){if(!e)return{width:0,height:0};const t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function _e({orientation:e,percentage:s,color:o,position:r}){const a="horizontal"===e,{direction:i}=n.useUser(),l="rtl"===i,c="start"===r;return t.jsx("div",{class:u.classNames([d.styles.referenceLinesBaseStyle,a?d.styles.referenceLinesHorizontalStyle:d.styles.referenceLinesVerticalStyle,c?a?d.styles.referenceLinesHoriontalStartStyle:l?d.styles.referenceLinesVerticalStartRtlStyle:d.styles.referenceLinesVerticalStartLtrStyle:""]),style:{left:a&&!l?s:void 0,right:a&&l?s:void 0,bottom:a?void 0:s,backgroundColor:h.getDvtThresholdColor(o)}})}function Ee({color:e,length:s,orientation:o,...r}){const{direction:a}=n.useUser(),i="horizontal"===o,l="rtl"===a;return t.jsx("div",{class:u.classNames([d.styles.thresholdBarBaseStyle,i?l?d.styles.thresholdBarHorizontalBarTrackSectionRtlStyle:d.styles.thresholdBarHorizontalBarTrackSectionLtrStyle:d.styles.thresholdBarVerticalBarTrackSectionStyle,r.class]),style:{width:i?s:"100%",height:i?"100%":s,backgroundColor:h.getDvtThresholdColor(e)}})}const Ae=function(e,t,s,o,r,a){const n=[];return e.start&&n.push(t?s:o),e.end&&n.push(t?r:a),n};e.MeterBar=function({max:e=100,min:o=0,value:h=0,step:d=1,length:F="100%",size:p,orientation:T="horizontal",isTrackRendered:g=!0,thresholdDisplay:_="all",indicatorSize:E=1,...A}){l.validateRange(o,e,h,d);const U=a.useRef(),N="horizontal"===T,k=a.useRef(null),f=a.useRef(ge(null)),{direction:C}=n.useUser(),b="rtl"===C;a.useEffect((()=>{(A.onCommit||A.onInput)&&(f.current=ge(k.current))}),[p,F,T,A.onCommit,A.onInput]);const B=i.usePointerEvents(h,(t=>{if(t.target==k.current)return function(e,t,s,o,r,a,n){const i=t.current;if(!i||0===i.width)return;let l;if("horizontal"===a){const t=e.offsetX;l=s+(o-s)*(n?i.width-t:t)/i.width}else l=s+(o-s)*(i.height-e.offsetY)/i.height;return l=Math.round(l/r)*r,Math.max(s,Math.min(o,l))}(t,f,o,e,d,T,b)}),k,U,A.onCommit,A.onInput),x=i.useKeyboardEvents(h,o,e,d,U,A.onCommit,A.onInput),{datatipContent:M,datatipProps:v}=i.useMeterDatatip(h,A.datatip,A["aria-describedby"]),w=l.getMeterAriaProps(h,o,e,A["aria-label"],A["aria-labelledby"],A.thresholds),V=r.mergeProps(B,x,v,w),z=Math.max(0,Math.min(1,E)),I=100*(h-o)/(e-o)+"%",R=100*z+"%",{trackColor:L,indicatorColor:j}=l.getTrackAndIndicatorColor(h,_,A.trackColor,A.indicatorColor,A.thresholds),P=function(e){let t={start:!1,end:!1};return e&&(t=e.reduce(((e,t)=>(e.start=e.start||"start"===t.position,e.end=e.end||"end"===t.position||null==t.position,e)),t)),t}(A.referenceLines),H=A.onCommit||A.onInput,{isTabbable:D}=m.useTabbableMode(),{classes:O,styles:{interactiveStyle:K,barValueBaseStyle:X,barValueVerticalStyle:Y,barValueHorizontalStyle:q,barTrackBaseStyle:G,barTrackHorizontalSizeStyle:J,barTrackVerticalSizeStyle:Q,barTrackMarginTopStyle:W,barTrackMarginStartStyle:Z,barTrackMarginBottomStyle:$,barTrackMarginEndStyle:ee,trackSectionHorizontalFirstStyle:te,trackSectionHorizontalLastStyle:se,trackSectionVerticalFirstStyle:oe,trackSectionVerticalLastStyle:re,trackSectionRoundedCornersStyle:ae}}=S.useComponentTheme(y.MeterBarRedwoodTheme,{size:p,orientation:T});return t.jsxs(t.Fragment,{children:[t.jsx("div",{tabIndex:D?0:-1,...V,style:{width:N?s.sizeToCSS(F):void 0,height:N?void 0:s.sizeToCSS(F)},class:u.classNames([O]),children:t.jsxs(c.BarTrack,{ref:k,orientation:T,color:!g||"all"===_&&A.thresholds?"transparent":L,class:u.classNames([G,H?K:"",N?J:Q,...Ae(P,N,W,Z,$,ee)]),children:["all"===_&&A.thresholds?.filter((t=>t.max>o&&t.max<=e)).sort(((e,t)=>e.max-t.max)).map(((s,r,a)=>{const n=0===r?s.max-o:s.max-a[r-1].max,i=N?se:re;let l=0===r?N?te:oe:"";return s.max===e&&(l=0===r?ae:i),t.jsxs(t.Fragment,{children:[t.jsx(Ee,{class:l,orientation:T,length:100*n/(e-o)+"%",color:s.color}),g&&r===a.length-1&&s.max<e?t.jsx(Ee,{class:i,color:L,orientation:T,length:100*(e-a[r].max)/(e-o)+"%"}):""]})})),t.jsx(c.BarValue,{length:I,size:R,orientation:T,class:u.classNames([X,N?q:Y]),color:j}),A.referenceLines?.map((s=>t.jsx(_e,{color:s.color,orientation:T,percentage:100*(s.value-o)/(e-o)+"%",position:s.position})))]})}),M]})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_MeterBar.js.map
