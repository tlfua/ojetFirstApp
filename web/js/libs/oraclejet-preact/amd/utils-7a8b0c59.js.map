{"version":3,"file":"utils-7a8b0c59.js","sources":["../../src/UNSAFE_Theme/utils.ts"],"sourcesContent":["import type { CSSVarFunction } from '@vanilla-extract/private';\nimport { scaleVars } from '../Common/themes/themeContract.css';\n\n// Added: new types\ntype RGBType = `rgb(${CSSVarFunction})`;\ntype RGBAType = `rgba(${CSSVarFunction}, ${number})`;\n\nconst rgb = (rgb: CSSVarFunction): RGBType => `rgb(${rgb})`;\nconst rgba = (rgb: CSSVarFunction, alpha: number): RGBAType => `rgba(${rgb}, ${alpha})`;\n\n// JET-59344 refactor of 'fallbackVar' from '@vanilla-extract/css'.\n// directly importing the function was causing vanilla-extract to be bundled into\n// the preact packages and causing issues with testing\nconst fallbackVar = (...values: [string, ...Array<string>]): CSSVarFunction => {\n  const finalValue = values.reverse().reduce((acc: string, value: string) => {\n    if (acc === '') {\n      acc = String(value);\n    } else {\n      if (typeof value !== 'string' || !/^var\\(--.*\\)$/.test(value)) {\n        throw new Error(`Invalid variable name: ${value}`);\n      }\n\n      acc = value.replace(/\\)$/, `, ${acc})`);\n    }\n    return acc;\n  }, '');\n\n  return finalValue as CSSVarFunction;\n};\n\n// MessageBanner is used by legacy oj-message-banner, so we need to fallback the size units\n// var to the legacy CSS var\nconst xUnits = (cnt: number): string =>\n  cnt === 1\n    ? fallbackVar(scaleVars.size.units, 'var(--oj-core-spacing-1x)')\n    : `calc(${cnt} * ${fallbackVar(scaleVars.size.units, 'var(--oj-core-spacing-1x)')})`;\n\nconst min = (val: string, minVal: string): string => `min(${val},${minVal})`;\nconst max = (val: string, minVal: string): string => `max(${val},${minVal})`;\n\nexport { rgb, rgba, xUnits, fallbackVar, min, max };\n\nexport type { RGBType, RGBAType };\n"],"names":["fallbackVar","values","reverse","reduce","acc","value","String","test","Error","replace","val","minVal","rgb","alpha","cnt","scaleVars","size","units"],"mappings":"mFAOM,MAMAA,EAAc,IAAIC,IACHA,EAAOC,UAAUC,QAAO,CAACC,EAAaC,KACvD,GAAY,KAARD,EACFA,EAAME,OAAOD,OACR,CACL,GAAqB,iBAAVA,IAAuB,gBAAgBE,KAAKF,GACrD,MAAM,IAAIG,MAAM,0BAA0BH,KAG5CD,EAAMC,EAAMI,QAAQ,MAAO,KAAKL,KACjC,CACD,OAAOA,CAAG,GACT,0BAaO,CAACM,EAAaC,IAA2B,OAAOD,KAAOC,WADvD,CAACD,EAAaC,IAA2B,OAAOD,KAAOC,WA9BtDC,GAAiC,OAAOA,YACxC,CAACA,EAAqBC,IAA4B,QAAQD,MAAQC,cAwB/DC,GACN,IAARA,EACId,EAAYe,EAASA,UAACC,KAAKC,MAAO,6BAClC,QAAQH,OAASd,EAAYe,YAAUC,KAAKC,MAAO"}