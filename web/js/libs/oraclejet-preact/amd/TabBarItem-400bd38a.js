define(['exports', 'preact/jsx-runtime', 'preact/hooks', './utils/PRIVATE_collectionUtils', './utils/UNSAFE_mergeProps', './utils/UNSAFE_classNames', './hooks/PRIVATE_useCollectionFocusRing', './hooks/PRIVATE_useCurrentKey', './UNSAFE_Flex', './hooks/UNSAFE_useUser', './UNSAFE_TabBar/themes/TabBarStyles.css', './classNames-711dac8e', './Flex-cd926f6b', './hooks/UNSAFE_usePress', './UNSAFE_Text', 'preact', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_interpolations/flexitem', './hooks/UNSAFE_useComponentTheme', './UNSAFE_TabBar/themes/redwood/TabBarItemTheme', './flexitem-391ab989', './Text-4cc07262'], (function(e,t,s,r,n,o,c,a,l,i,u,d,m,h,x,b,f,g,y,F,A,E){"use strict";const N=b.createContext(null);e.TabBar=function({children:e,layout:o="stretch",selection:l,onSelectionChange:h}){const x=s.useRef(null),b=s.useRef(!1),[f,g]=s.useState(l),[y,F]=c.useCollectionFocusRing((e=>!!x.current?.contains(e)),["ArrowRight","ArrowLeft"]),A=".oj-c-tabbar-item",{currentKeyProps:E}=a.useCurrentKey((e=>r.keyExtractor(e,A)),!1,void 0,void 0,r.getPrevNextKey(x.current,f,!0,A),r.getPrevNextKey(x.current,f,!1,A),f,(e=>g(e.value))),{direction:p}=i.useUser(),C="rtl"===p,S={onKeyDown:s.useCallback((e=>{if(void 0===f&&("ArrowRight"===e.key||!C&&"ArrowLeft"===e.key)){const t=e.target.getAttribute("data-oj-key");if(t){const e=r.getPrevNextKey(x.current,t,!1,A)();null!==e&&g(e)}}}),[f])};s.useEffect((()=>{b.current=!1}));const R=s.useCallback((()=>!!x?.current?.contains(document.activeElement)),[]),v=d.classNames([u.styles.tabBarBase]);return t.jsx(N.Provider,{value:{selection:l,onSelectionChange:h,currentKey:f,showFocusRing:y,layout:o,isActiveElement:R,isFirstItemRendered:b},children:t.jsx("div",{class:v,role:"tablist",ref:x,tabIndex:e?-1:0,"aria-multiselectable":!1,...n.mergeProps(S,E,F),children:t.jsx(m.Flex,{direction:"row",gap:"8x",children:e})})})},e.TabBarItem=function({itemKey:e,label:r,startContent:n,endContent:o}){const c=s.useRef(null),{onSelectionChange:a,selection:l,currentKey:i,showFocusRing:u,layout:x,isActiveElement:b,isFirstItemRendered:g}=s.useContext(N),p=i===e;let C=p?0:-1;void 0===i&&g&&!g.current&&(C=0,g.current=!0);const{pressProps:S}=h.usePress((()=>{a?.({value:e})})),R=l===e;s.useLayoutEffect((()=>{b?.()&&p&&c?.current?.focus()}),[p,b]);const{classes:v,styles:{tabBarItemStartContent:T,tabBarItemEndContent:j}}=y.useComponentTheme(F.TabBarItemRedwoodTheme,{selection:R?"isSelected":"notSelected",current:p?"isCurrent":"notCurrent",focusRing:u?"showFocusRing":"noFocusRing"}),I=d.classNames([v,"oj-c-tabbar-item"]),U=d.classNames([T]),_=d.classNames([j]),k=f.mergeInterpolations([...Object.values(A.flexitemInterpolations)])({flex:"stretch"===x?"1 0 auto":"0 0 auto"});return t.jsx("div",{"data-oj-key":e,class:I,role:"tab",ref:c,...S,"aria-selected":R,tabIndex:C,style:k,children:t.jsxs(m.Flex,{height:"11x",minWidth:"14x",direction:"row",gap:"2x",align:"center",justify:"center",flex:"1 1 auto",children:[n&&t.jsx("span",{class:U,children:n}),r&&t.jsx(E.Text,{size:"md",weight:"semiBold",children:r}),o&&t.jsx("span",{class:_,children:o})]})})}}));
//# sourceMappingURL=TabBarItem-400bd38a.js.map
