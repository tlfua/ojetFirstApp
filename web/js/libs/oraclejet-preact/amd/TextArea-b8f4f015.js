define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './hooks/UNSAFE_useFormContext', './hooks/UNSAFE_useFormFieldContext', './hooks/UNSAFE_useFocusableTextField', './UNSAFE_Label', './UNSAFE_TextField', './hooks/UNSAFE_useTextField', './UNSAFE_UserAssistance', './hooks/UNSAFE_useLengthFilter', 'preact/hooks', './utils/UNSAFE_classNames', './hooks/UNSAFE_usePress', 'css!./MaxLengthCounterStyles.styles.css', './classNames-711dac8e', './hooks/UNSAFE_useCurrentValueReducer', './Label-fab64746', './ReadonlyTextFieldInput-541a2315', './TextFieldInput-17f3ed29'], (function(e,s,t,a,n,i,l,o,r,u,d,c,x,h,m,p,F,b,g,v,L){"use strict";var y="MaxLengthCounterStyles_spanStyles__7dy9j72";const f=()=>{};function C({maxLength:e,valueLength:t=0,onClick:a}){const{isFocused:n}=i.useFormFieldContext(),l=x.useCallback((e=>e.preventDefault()),[]),o=F.classNames([!n&&"MaxLengthCounterStyles_hide__7dy9j71"]),{pressProps:r}=m.usePress(a??f);return s.jsx("div",{class:"MaxLengthCounterStyles_maxLengthCounterBase__7dy9j70",onMouseDown:l,...r,children:s.jsxs("span",{class:o,children:[s.jsx("span",{class:y,children:t}),s.jsx("span",{class:y,children:"/"}),s.jsx("span",{class:y,children:e})]})})}const A=a.forwardRef((({"aria-describedby":e,assistiveText:o,autoComplete:x="off",autoFocus:h=!1,helpSourceLink:m,helpSourceText:p,isDisabled:F,isReadonly:y,isRequired:f=!1,isRequiredShown:A,label:S,labelEdge:R,labelStartWidth:j,maxLength:E,maxLengthCounter:U="remaining",maxLengthUnit:_,messages:T,placeholder:k,resize:N,role:D,rows:I,textAlign:P,userAssistanceDensity:w,value:M,variant:V="default",onInput:q,onCommit:B},W)=>{const{currentCommitValue:z,dispatch:H}=b.useCurrentValueReducer({value:M}),G=a.useCallback((e=>{H({type:"input",payload:e.value}),q?.(e)}),[q]),J=a.useCallback((e=>{H({type:"commit",payload:e.value}),B?.(e)}),[B]),{isDisabled:K,isReadonly:O,labelEdge:Q,labelStartWidth:X,textAlign:Y,userAssistanceDensity:Z}=n.useFormContext(),$=F??K,ee=y??O,se=R??Q,te=j??X,ae=P??Y,ne=w??Z,{enabledElementRef:ie,readonlyElementRef:le,focusProps:oe,isFocused:re}=l.useFocusableTextField({isDisabled:$,isReadonly:ee,ref:W}),{formFieldContext:ue,inputProps:de,labelProps:ce,textFieldProps:xe,userAssistanceProps:he}=u.useTextField({ariaDescribedBy:e,contentVariant:"textarea",helpSourceLink:m,helpSourceText:p,isDisabled:$,isFocused:re,isReadonly:ee,isRequiredShown:A,labelEdge:se,messages:T,styleVariant:V,userAssistanceDensity:ne,value:M}),{isMaxLengthExceeded:me,valueLength:pe,onFilteredInput:Fe}=c.useLengthFilter({maxLength:E,maxLengthUnit:_,value:M,onInput:G,onCommit:J}),be="none"!==se?s.jsx(g.Label,{...ce,children:S}):void 0,ge={label:"none"!==se?be:void 0,labelEdge:"none"!==se?se:void 0,labelStartWidth:"none"!==se?te:void 0},ve="none"===se?S:void 0,Le="efficient"===ne||"reflow"===ne?$||ee?"efficient"!==ne?void 0:s.jsx(d.InlineUserAssistance,{userAssistanceDensity:ne,...he}):s.jsx(d.InlineUserAssistance,{assistiveText:o,fieldLabel:S,helpSourceLink:m,helpSourceText:p,messages:T,isRequiredShown:A,userAssistanceDensity:ne,...he}):void 0,ye=a.useRef(null),fe="compact"===ne?s.jsx(d.CompactUserAssistance,{anchorRef:ye,messages:T,assistiveText:o,...he}):void 0;if(ee)return s.jsx(i.FormFieldContext.Provider,{value:ue,children:s.jsx(r.ReadonlyTextField,{role:"presentation",compactUserAssistance:fe,inlineUserAssistance:Le,ref:ye,variant:"textarea",...ge,children:s.jsx(v.ReadonlyTextFieldInput,{"aria-describedby":de["aria-describedby"],"aria-label":ve,"aria-labelledby":ce.id,as:"textarea",elementRef:le,rows:I,autoFocus:h,textAlign:ae,value:M,variant:"textarea",hasEmptyLabel:""===S&&"none"===se,hasInsideLabel:void 0!==S&&"inside"===se})})});const Ce=a.useCallback((()=>{const e=ie.current,s=e?e.value.length:null;ie.current?.setSelectionRange(s,s),ie.current?.focus()}),[]),Ae=s.jsxs(t.Fragment,{children:[s.jsx(L.TextFieldInput,{as:"textarea","aria-label":ve,autoComplete:x,autoFocus:h,currentCommitValue:z,hasEmptyLabel:""===S&&"none"===se,hasInsideLabel:void 0!==be&&"inside"===se,isRequired:f,inputRef:ie,onCommit:J,onInput:Fe,placeholder:k,role:D,rows:I,textAlign:ae,value:M,...de}),"remaining"===U&&void 0!==E&&s.jsx(C,{maxLength:E,valueLength:pe,parentHasFocus:re,onClick:Ce}),void 0!==E&&s.jsx(r.MaxLengthLiveRegion,{isMaxLengthExceeded:me,maxLength:E,valueLength:pe})]});return s.jsx(i.FormFieldContext.Provider,{value:ue,children:s.jsx(r.TextField,{mainContent:Ae,compactUserAssistance:fe,inlineUserAssistance:Le,onBlur:oe?.onfocusout,onFocus:oe?.onfocusin,mainFieldRef:ye,resize:N,...xe,...ge})})}));e.MaxLengthCounter=C,e.TextArea=A}));
//# sourceMappingURL=TextArea-b8f4f015.js.map
